{
  "version": 3,
  "sources": ["../../wavesurfer.js/dist/plugins/hover.esm.js"],
  "sourcesContent": ["class t{constructor(){this.listeners={}}on(t,e,s){if(this.listeners[t]||(this.listeners[t]=new Set),null==s?void 0:s.once){const s=(...i)=>{this.un(t,s),e(...i)};return this.listeners[t].add(s),()=>this.un(t,s)}return this.listeners[t].add(e),()=>this.un(t,e)}un(t,e){var s;null===(s=this.listeners[t])||void 0===s||s.delete(e)}once(t,e){return this.on(t,e,{once:!0})}unAll(){this.listeners={}}emit(t,...e){this.listeners[t]&&this.listeners[t].forEach((t=>t(...e)))}}class e extends t{constructor(t){super(),this.subscriptions=[],this.isDestroyed=!1,this.options=t}onInit(){}_init(t){this.isDestroyed&&(this.subscriptions=[],this.isDestroyed=!1),this.wavesurfer=t,this.onInit()}destroy(){this.emit(\"destroy\"),this.subscriptions.forEach((t=>t())),this.subscriptions=[],this.isDestroyed=!0,this.wavesurfer=void 0}}function s(t,e){const i=e.xmlns?document.createElementNS(e.xmlns,t):document.createElement(t);for(const[t,n]of Object.entries(e))if(\"children\"===t&&n)for(const[t,e]of Object.entries(n))e instanceof Node?i.appendChild(e):\"string\"==typeof e?i.appendChild(document.createTextNode(e)):i.appendChild(s(t,e));else\"style\"===t?Object.assign(i.style,n):\"textContent\"===t?i.textContent=n:i.setAttribute(t,n.toString());return i}function i(t,e,i){const n=s(t,e||{});return null==i||i.appendChild(n),n}function n(t,e){let s;const i=()=>{s&&(s(),s=void 0),s=t()},n=e.map((t=>t.subscribe(i)));return i(),()=>{s&&(s(),s=void 0),n.forEach((t=>t()))}}function o(t,e){const s=function(t){let e=t;const s=new Set;return{get value(){return e},set(t){Object.is(e,t)||(e=t,s.forEach((t=>t(e))))},update(t){this.set(t(e))},subscribe:t=>(s.add(t),()=>s.delete(t))}}(null),i=t=>{s.set(t)};return t.addEventListener(e,i),s._cleanup=()=>{t.removeEventListener(e,i)},s}const r={lineWidth:1,labelSize:11,labelPreferLeft:!1,formatTimeCallback:t=>`${Math.floor(t/60)}:${`0${Math.floor(t)%60}`.slice(-2)}`};class a extends e{constructor(t){super(t||{}),this.lastPointerPosition=null,this.options=Object.assign({},r,t),this.wrapper=i(\"div\",{part:\"hover\"}),this.label=i(\"span\",{part:\"hover-label\"},this.wrapper)}static create(t){return new a(t)}addUnits(t){return`${t}${\"number\"==typeof t?\"px\":\"\"}`}onInit(){if(!this.wavesurfer)throw Error(\"WaveSurfer is not initialized\");const t=this.wavesurfer.options,e=this.options.lineColor||t.cursorColor||t.progressColor;Object.assign(this.wrapper.style,{position:\"absolute\",zIndex:10,left:0,top:0,height:\"100%\",pointerEvents:\"none\",borderLeft:`${this.addUnits(this.options.lineWidth)} solid ${e}`,opacity:\"0\",transition:\"opacity .1s ease-in\"}),Object.assign(this.label.style,{display:\"block\",backgroundColor:this.options.labelBackground,color:this.options.labelColor,fontSize:`${this.addUnits(this.options.labelSize)}`,transition:\"transform .1s ease-in\",padding:\"2px 3px\"});const s=this.wavesurfer.getWrapper();s.appendChild(this.wrapper);const i=this.wavesurfer.getState(),r=o(s,\"pointermove\"),a=o(s,\"pointerleave\");this.subscriptions.push(n((()=>{const t=r.value;if(!t||!this.wavesurfer)return;this.lastPointerPosition={clientX:t.clientX,clientY:t.clientY};const e=this.wavesurfer.getWrapper().getBoundingClientRect(),{width:s}=e,n=t.clientX-e.left,o=Math.min(1,Math.max(0,n/s)),a=Math.min(s-this.options.lineWidth-1,n);this.wrapper.style.transform=`translateX(${a}px)`,this.wrapper.style.opacity=\"1\";const l=i.duration.value;this.label.textContent=this.options.formatTimeCallback(l*o);const h=this.label.offsetWidth,p=this.options.labelPreferLeft?a-h>0:a+h>s;this.label.style.transform=p?`translateX(-${h+this.options.lineWidth}px)`:\"\",this.emit(\"hover\",o)}),[r,i.duration])),this.subscriptions.push(n((()=>{a.value&&(this.wrapper.style.opacity=\"0\",this.lastPointerPosition=null)}),[a]));const l=()=>{if(this.lastPointerPosition&&this.wavesurfer){const t=this.wavesurfer.getWrapper().getBoundingClientRect(),{width:e}=t,s=this.lastPointerPosition.clientX-t.left,n=Math.min(1,Math.max(0,s/e)),o=Math.min(e-this.options.lineWidth-1,s);this.wrapper.style.transform=`translateX(${o}px)`;const r=i.duration.value;this.label.textContent=this.options.formatTimeCallback(r*n);const a=this.label.offsetWidth,l=this.options.labelPreferLeft?o-a>0:o+a>e;this.label.style.transform=l?`translateX(-${a+this.options.lineWidth}px)`:\"\"}};this.subscriptions.push(this.wavesurfer.on(\"zoom\",l)),this.subscriptions.push(this.wavesurfer.on(\"scroll\",l))}destroy(){super.destroy(),this.wrapper.remove()}}export{a as default};\n"],
  "mappings": ";;;AAAA,IAAM,IAAN,MAAO;AAAA,EAAC,cAAa;AAAC,SAAK,YAAU,CAAC;AAAA,EAAC;AAAA,EAAC,GAAGA,IAAEC,IAAEC,IAAE;AAAC,QAAG,KAAK,UAAUF,EAAC,MAAI,KAAK,UAAUA,EAAC,IAAE,oBAAI,QAAK,QAAME,KAAE,SAAOA,GAAE,MAAK;AAAC,YAAMA,KAAE,IAAIC,OAAI;AAAC,aAAK,GAAGH,IAAEE,EAAC,GAAED,GAAE,GAAGE,EAAC;AAAA,MAAC;AAAE,aAAO,KAAK,UAAUH,EAAC,EAAE,IAAIE,EAAC,GAAE,MAAI,KAAK,GAAGF,IAAEE,EAAC;AAAA,IAAC;AAAC,WAAO,KAAK,UAAUF,EAAC,EAAE,IAAIC,EAAC,GAAE,MAAI,KAAK,GAAGD,IAAEC,EAAC;AAAA,EAAC;AAAA,EAAC,GAAGD,IAAEC,IAAE;AAAC,QAAIC;AAAE,cAAQA,KAAE,KAAK,UAAUF,EAAC,MAAI,WAASE,MAAGA,GAAE,OAAOD,EAAC;AAAA,EAAC;AAAA,EAAC,KAAKD,IAAEC,IAAE;AAAC,WAAO,KAAK,GAAGD,IAAEC,IAAE,EAAC,MAAK,KAAE,CAAC;AAAA,EAAC;AAAA,EAAC,QAAO;AAAC,SAAK,YAAU,CAAC;AAAA,EAAC;AAAA,EAAC,KAAKD,OAAKC,IAAE;AAAC,SAAK,UAAUD,EAAC,KAAG,KAAK,UAAUA,EAAC,EAAE,SAAS,CAAAA,OAAGA,GAAE,GAAGC,EAAC,EAAE;AAAA,EAAC;AAAC;AAAC,IAAM,IAAN,cAAgB,EAAC;AAAA,EAAC,YAAYD,IAAE;AAAC,UAAM,GAAE,KAAK,gBAAc,CAAC,GAAE,KAAK,cAAY,OAAG,KAAK,UAAQA;AAAA,EAAC;AAAA,EAAC,SAAQ;AAAA,EAAC;AAAA,EAAC,MAAMA,IAAE;AAAC,SAAK,gBAAc,KAAK,gBAAc,CAAC,GAAE,KAAK,cAAY,QAAI,KAAK,aAAWA,IAAE,KAAK,OAAO;AAAA,EAAC;AAAA,EAAC,UAAS;AAAC,SAAK,KAAK,SAAS,GAAE,KAAK,cAAc,SAAS,CAAAA,OAAGA,GAAE,EAAE,GAAE,KAAK,gBAAc,CAAC,GAAE,KAAK,cAAY,MAAG,KAAK,aAAW;AAAA,EAAM;AAAC;AAAC,SAAS,EAAEA,IAAEC,IAAE;AAAC,QAAME,KAAEF,GAAE,QAAM,SAAS,gBAAgBA,GAAE,OAAMD,EAAC,IAAE,SAAS,cAAcA,EAAC;AAAE,aAAS,CAACA,IAAEI,EAAC,KAAI,OAAO,QAAQH,EAAC,EAAE,KAAG,eAAaD,MAAGI,GAAE,YAAS,CAACJ,IAAEC,EAAC,KAAI,OAAO,QAAQG,EAAC,EAAE,CAAAH,cAAa,OAAKE,GAAE,YAAYF,EAAC,IAAE,YAAU,OAAOA,KAAEE,GAAE,YAAY,SAAS,eAAeF,EAAC,CAAC,IAAEE,GAAE,YAAY,EAAEH,IAAEC,EAAC,CAAC;AAAA,MAAM,aAAUD,KAAE,OAAO,OAAOG,GAAE,OAAMC,EAAC,IAAE,kBAAgBJ,KAAEG,GAAE,cAAYC,KAAED,GAAE,aAAaH,IAAEI,GAAE,SAAS,CAAC;AAAE,SAAOD;AAAC;AAAC,SAAS,EAAEH,IAAEC,IAAEE,IAAE;AAAC,QAAMC,KAAE,EAAEJ,IAAEC,MAAG,CAAC,CAAC;AAAE,SAAO,QAAME,MAAGA,GAAE,YAAYC,EAAC,GAAEA;AAAC;AAAC,SAAS,EAAEJ,IAAEC,IAAE;AAAC,MAAIC;AAAE,QAAMC,KAAE,MAAI;AAAC,IAAAD,OAAIA,GAAE,GAAEA,KAAE,SAAQA,KAAEF,GAAE;AAAA,EAAC,GAAEI,KAAEH,GAAE,KAAK,CAAAD,OAAGA,GAAE,UAAUG,EAAC,EAAE;AAAE,SAAOA,GAAE,GAAE,MAAI;AAAC,IAAAD,OAAIA,GAAE,GAAEA,KAAE,SAAQE,GAAE,SAAS,CAAAJ,OAAGA,GAAE,EAAE;AAAA,EAAC;AAAC;AAAC,SAAS,EAAEA,IAAEC,IAAE;AAAC,QAAMC,KAAE,0BAASF,IAAE;AAAC,QAAIC,KAAED;AAAE,UAAME,KAAE,oBAAI;AAAI,WAAM,EAAC,IAAI,QAAO;AAAC,aAAOD;AAAA,IAAC,GAAE,IAAID,IAAE;AAAC,aAAO,GAAGC,IAAED,EAAC,MAAIC,KAAED,IAAEE,GAAE,SAAS,CAAAF,OAAGA,GAAEC,EAAC,EAAE;AAAA,IAAE,GAAE,OAAOD,IAAE;AAAC,WAAK,IAAIA,GAAEC,EAAC,CAAC;AAAA,IAAC,GAAE,WAAU,CAAAD,QAAIE,GAAE,IAAIF,EAAC,GAAE,MAAIE,GAAE,OAAOF,EAAC,GAAE;AAAA,EAAC,GAAE,IAAI,GAAEG,KAAE,CAAAH,OAAG;AAAC,IAAAE,GAAE,IAAIF,EAAC;AAAA,EAAC;AAAE,SAAOA,GAAE,iBAAiBC,IAAEE,EAAC,GAAED,GAAE,WAAS,MAAI;AAAC,IAAAF,GAAE,oBAAoBC,IAAEE,EAAC;AAAA,EAAC,GAAED;AAAC;AAAC,IAAM,IAAE,EAAC,WAAU,GAAE,WAAU,IAAG,iBAAgB,OAAG,oBAAmB,CAAAF,OAAG,GAAG,KAAK,MAAMA,KAAE,EAAE,CAAC,IAAI,IAAI,KAAK,MAAMA,EAAC,IAAE,EAAE,GAAG,MAAM,EAAE,CAAC,GAAE;AAAE,IAAM,IAAN,MAAM,WAAU,EAAC;AAAA,EAAC,YAAYA,IAAE;AAAC,UAAMA,MAAG,CAAC,CAAC,GAAE,KAAK,sBAAoB,MAAK,KAAK,UAAQ,OAAO,OAAO,CAAC,GAAE,GAAEA,EAAC,GAAE,KAAK,UAAQ,EAAE,OAAM,EAAC,MAAK,QAAO,CAAC,GAAE,KAAK,QAAM,EAAE,QAAO,EAAC,MAAK,cAAa,GAAE,KAAK,OAAO;AAAA,EAAC;AAAA,EAAC,OAAO,OAAOA,IAAE;AAAC,WAAO,IAAI,GAAEA,EAAC;AAAA,EAAC;AAAA,EAAC,SAASA,IAAE;AAAC,WAAM,GAAGA,EAAC,GAAG,YAAU,OAAOA,KAAE,OAAK,EAAE;AAAA,EAAE;AAAA,EAAC,SAAQ;AAAC,QAAG,CAAC,KAAK,WAAW,OAAM,MAAM,+BAA+B;AAAE,UAAMA,KAAE,KAAK,WAAW,SAAQC,KAAE,KAAK,QAAQ,aAAWD,GAAE,eAAaA,GAAE;AAAc,WAAO,OAAO,KAAK,QAAQ,OAAM,EAAC,UAAS,YAAW,QAAO,IAAG,MAAK,GAAE,KAAI,GAAE,QAAO,QAAO,eAAc,QAAO,YAAW,GAAG,KAAK,SAAS,KAAK,QAAQ,SAAS,CAAC,UAAUC,EAAC,IAAG,SAAQ,KAAI,YAAW,sBAAqB,CAAC,GAAE,OAAO,OAAO,KAAK,MAAM,OAAM,EAAC,SAAQ,SAAQ,iBAAgB,KAAK,QAAQ,iBAAgB,OAAM,KAAK,QAAQ,YAAW,UAAS,GAAG,KAAK,SAAS,KAAK,QAAQ,SAAS,CAAC,IAAG,YAAW,yBAAwB,SAAQ,UAAS,CAAC;AAAE,UAAMC,KAAE,KAAK,WAAW,WAAW;AAAE,IAAAA,GAAE,YAAY,KAAK,OAAO;AAAE,UAAMC,KAAE,KAAK,WAAW,SAAS,GAAEE,KAAE,EAAEH,IAAE,aAAa,GAAEI,KAAE,EAAEJ,IAAE,cAAc;AAAE,SAAK,cAAc,KAAK,GAAG,MAAI;AAAC,YAAMF,KAAEK,GAAE;AAAM,UAAG,CAACL,MAAG,CAAC,KAAK,WAAW;AAAO,WAAK,sBAAoB,EAAC,SAAQA,GAAE,SAAQ,SAAQA,GAAE,QAAO;AAAE,YAAMC,KAAE,KAAK,WAAW,WAAW,EAAE,sBAAsB,GAAE,EAAC,OAAMC,GAAC,IAAED,IAAEG,KAAEJ,GAAE,UAAQC,GAAE,MAAKM,KAAE,KAAK,IAAI,GAAE,KAAK,IAAI,GAAEH,KAAEF,EAAC,CAAC,GAAEI,KAAE,KAAK,IAAIJ,KAAE,KAAK,QAAQ,YAAU,GAAEE,EAAC;AAAE,WAAK,QAAQ,MAAM,YAAU,cAAcE,EAAC,OAAM,KAAK,QAAQ,MAAM,UAAQ;AAAI,YAAME,KAAEL,GAAE,SAAS;AAAM,WAAK,MAAM,cAAY,KAAK,QAAQ,mBAAmBK,KAAED,EAAC;AAAE,YAAM,IAAE,KAAK,MAAM,aAAY,IAAE,KAAK,QAAQ,kBAAgBD,KAAE,IAAE,IAAEA,KAAE,IAAEJ;AAAE,WAAK,MAAM,MAAM,YAAU,IAAE,eAAe,IAAE,KAAK,QAAQ,SAAS,QAAM,IAAG,KAAK,KAAK,SAAQK,EAAC;AAAA,IAAC,IAAG,CAACF,IAAEF,GAAE,QAAQ,CAAC,CAAC,GAAE,KAAK,cAAc,KAAK,GAAG,MAAI;AAAC,MAAAG,GAAE,UAAQ,KAAK,QAAQ,MAAM,UAAQ,KAAI,KAAK,sBAAoB;AAAA,IAAK,IAAG,CAACA,EAAC,CAAC,CAAC;AAAE,UAAM,IAAE,MAAI;AAAC,UAAG,KAAK,uBAAqB,KAAK,YAAW;AAAC,cAAMN,KAAE,KAAK,WAAW,WAAW,EAAE,sBAAsB,GAAE,EAAC,OAAMC,GAAC,IAAED,IAAEE,KAAE,KAAK,oBAAoB,UAAQF,GAAE,MAAKI,KAAE,KAAK,IAAI,GAAE,KAAK,IAAI,GAAEF,KAAED,EAAC,CAAC,GAAEM,KAAE,KAAK,IAAIN,KAAE,KAAK,QAAQ,YAAU,GAAEC,EAAC;AAAE,aAAK,QAAQ,MAAM,YAAU,cAAcK,EAAC;AAAM,cAAMF,KAAEF,GAAE,SAAS;AAAM,aAAK,MAAM,cAAY,KAAK,QAAQ,mBAAmBE,KAAED,EAAC;AAAE,cAAME,KAAE,KAAK,MAAM,aAAYE,KAAE,KAAK,QAAQ,kBAAgBD,KAAED,KAAE,IAAEC,KAAED,KAAEL;AAAE,aAAK,MAAM,MAAM,YAAUO,KAAE,eAAeF,KAAE,KAAK,QAAQ,SAAS,QAAM;AAAA,MAAE;AAAA,IAAC;AAAE,SAAK,cAAc,KAAK,KAAK,WAAW,GAAG,QAAO,CAAC,CAAC,GAAE,KAAK,cAAc,KAAK,KAAK,WAAW,GAAG,UAAS,CAAC,CAAC;AAAA,EAAC;AAAA,EAAC,UAAS;AAAC,UAAM,QAAQ,GAAE,KAAK,QAAQ,OAAO;AAAA,EAAC;AAAC;",
  "names": ["t", "e", "s", "i", "n", "r", "a", "o", "l"]
}
