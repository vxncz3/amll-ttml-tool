{
  "version": 3,
  "sources": ["../../jotai-immer/dist/atomWithImmer.js", "../../jotai-immer/dist/withImmer.js", "../../jotai-immer/dist/useSetImmerAtom.js", "../../jotai-immer/dist/useImmerAtom.js"],
  "sourcesContent": ["import { produce } from 'immer';\nimport { atom } from 'jotai/vanilla';\nexport function atomWithImmer(initialValue) {\n    const anAtom = atom(initialValue, (get, set, fn) => set(anAtom, produce(get(anAtom), typeof fn === 'function'\n        ? fn\n        : () => fn)));\n    return anAtom;\n}\n", "import { produce } from 'immer';\nimport { atom } from 'jotai/vanilla';\nconst cache1 = new WeakMap();\nconst memo1 = (create, dep1) => (cache1.has(dep1) ? cache1 : cache1.set(dep1, create())).get(dep1);\nexport function withImmer(anAtom) {\n    return memo1(() => {\n        const derivedAtom = atom((get) => get(anAtom), (get, set, fn) => set(anAtom, produce(get(anAtom), typeof fn === 'function'\n            ? fn\n            : () => fn)));\n        return derivedAtom;\n    }, anAtom);\n}\n", "import { useCallback } from 'react';\nimport { produce } from 'immer';\nimport { useSetAtom } from 'jotai/react';\nexport function useSetImmerAtom(anAtom, options) {\n    const setState = useSetAtom(anAtom, options);\n    return useCallback((fn) => setState(produce(fn)), [setState]);\n}\n", "import { useAtomValue } from 'jotai/react';\nimport { useSetImmerAtom } from './useSetImmerAtom.js';\nexport function useImmerAtom(anAtom, options) {\n    return [useAtomValue(anAtom, options), useSetImmerAtom(anAtom, options)];\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAEO,SAAS,cAAc,cAAc;AACxC,QAAM,SAAS,KAAK,cAAc,CAAC,KAAK,KAAK,OAAO,IAAI,QAAQ,QAAQ,IAAI,MAAM,GAAG,OAAO,OAAO,aAC7F,KACA,MAAM,EAAE,CAAC,CAAC;AAChB,SAAO;AACX;;;ACLA,IAAM,SAAS,oBAAI,QAAQ;AAC3B,IAAM,QAAQ,CAAC,QAAQ,UAAU,OAAO,IAAI,IAAI,IAAI,SAAS,OAAO,IAAI,MAAM,OAAO,CAAC,GAAG,IAAI,IAAI;AAC1F,SAAS,UAAU,QAAQ;AAC9B,SAAO,MAAM,MAAM;AACf,UAAM,cAAc,KAAK,CAAC,QAAQ,IAAI,MAAM,GAAG,CAAC,KAAK,KAAK,OAAO,IAAI,QAAQ,QAAQ,IAAI,MAAM,GAAG,OAAO,OAAO,aAC1G,KACA,MAAM,EAAE,CAAC,CAAC;AAChB,WAAO;AAAA,EACX,GAAG,MAAM;AACb;;;ACXA,mBAA4B;AAGrB,SAAS,gBAAgB,QAAQ,SAAS;AAC7C,QAAM,WAAW,WAAW,QAAQ,OAAO;AAC3C,aAAO,0BAAY,CAAC,OAAO,SAAS,QAAQ,EAAE,CAAC,GAAG,CAAC,QAAQ,CAAC;AAChE;;;ACJO,SAAS,aAAa,QAAQ,SAAS;AAC1C,SAAO,CAAC,aAAa,QAAQ,OAAO,GAAG,gBAAgB,QAAQ,OAAO,CAAC;AAC3E;",
  "names": []
}
