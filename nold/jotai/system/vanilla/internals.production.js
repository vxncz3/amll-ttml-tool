System.register([],(function(j){"use strict";return{execute:(function(){j({INTERNAL_abortPromise:B,INTERNAL_addPendingPromiseToDependency:P,INTERNAL_buildStoreRev2:cn,INTERNAL_getBuildingBlocksRev2:sn,INTERNAL_getMountedOrPendingDependents:O,INTERNAL_hasInitialValue:_,INTERNAL_initializeStoreHooksRev2:J,INTERNAL_isActuallyWritableAtom:M,INTERNAL_isAtomStateInitialized:z,INTERNAL_isPendingPromise:W,INTERNAL_isPromiseLike:k,INTERNAL_registerAbortHandler:D,INTERNAL_returnAtomValue:m});function _(n){return"init"in n}function M(n){return!!n.write}function z(n){return"v"in n||"e"in n}function m(n){if("e"in n)throw n.e;return n.v}const R=j("INTERNAL_promiseStateMap",new WeakMap);function W(n){var e;return k(n)&&!!((e=R.get(n))!=null&&e[0])}function B(n){const e=R.get(n);e!=null&&e[0]&&(e[0]=!1,e[1].forEach(r=>r()))}function D(n,e){let r=R.get(n);if(!r){r=[!0,new Set],R.set(n,r);const t=()=>{r[0]=!1};n.then(t,t)}r[1].add(e)}function k(n){return typeof(n==null?void 0:n.then)=="function"}function P(n,e,r){if(!r.p.has(n)){r.p.add(n);const t=()=>r.p.delete(n);e.then(t,t)}}function O(n,e,r){var t;const o=new Set;for(const l of((t=r.get(n))==null?void 0:t.t)||[])r.has(l)&&o.add(l);for(const l of e.p)o.add(l);return o}const G=()=>{const n=new Set,e=()=>n.forEach(r=>r());return e.add=r=>(n.add(r),()=>n.delete(r)),e},A=()=>{const n={},e=new WeakMap,r=t=>{var o,l;(o=e.get(n))==null||o.forEach(a=>a(t)),(l=e.get(t))==null||l.forEach(a=>a())};return r.add=(t,o)=>{const l=t||n,a=(e.has(l)?e:e.set(l,new Set)).get(l);return a.add(o),()=>{a==null||a.delete(o),a.size||e.delete(l)}},r};function J(n){return n.i||(n.i=A()),n.r||(n.r=A()),n.c||(n.c=A()),n.m||(n.m=A()),n.u||(n.u=A()),n.f||(n.f=G()),n}const K=(n,e,...r)=>e.read(...r),Q=(n,e,...r)=>e.write(...r),U=(n,e)=>{var r;return(r=e.unstable_onInit)==null?void 0:r.call(e,n)},X=(n,e,r)=>{var t;return(t=e.onMount)==null?void 0:t.call(e,r)},Y=(n,e)=>{var r;const t=w(n),o=t[0],l=t[6],a=t[9];let u=o.get(e);return u||(u={d:new Map,p:new Set,n:0},o.set(e,u),(r=l.i)==null||r.call(l,e),a==null||a(n,e)),u},Z=n=>{const e=w(n),r=e[1],t=e[3],o=e[4],l=e[5],a=e[6],u=e[13],g=[],h=d=>{try{d()}catch(f){g.push(f)}};do{a.f&&h(a.f);const d=new Set,f=d.add.bind(d);t.forEach(i=>{var c;return(c=r.get(i))==null?void 0:c.l.forEach(f)}),t.clear(),l.forEach(f),l.clear(),o.forEach(f),o.clear(),d.forEach(h),t.size&&u(n)}while(t.size||l.size||o.size);if(g.length)throw new AggregateError(g)},$=n=>{const e=w(n),r=e[1],t=e[2],o=e[3],l=e[11],a=e[14],u=e[17],g=[],h=new WeakSet,d=new WeakSet,f=Array.from(o);for(;f.length;){const i=f[f.length-1],c=l(n,i);if(d.has(i)){f.pop();continue}if(h.has(i)){t.get(i)===c.n&&g.push([i,c]),d.add(i),f.pop();continue}h.add(i);for(const y of O(i,c,r))h.has(y)||f.push(y)}for(let i=g.length-1;i>=0;--i){const[c,y]=g[i];let N=!1;for(const s of y.d.keys())if(s!==c&&o.has(s)){N=!0;break}N&&(a(n,c),u(n,c)),t.delete(c)}},nn=(n,e)=>{var r,t;const o=w(n),l=o[1],a=o[2],u=o[3],g=o[6],h=o[7],d=o[11],f=o[12],i=o[13],c=o[14],y=o[16],N=o[17],s=d(n,e);if(z(s)&&(l.has(e)&&a.get(e)!==s.n||Array.from(s.d).every(([v,T])=>c(n,v).n===T)))return s;s.d.clear();let p=!0;function S(){l.has(e)&&(N(n,e),i(n),f(n))}function L(v){var T;if(v===e){const F=d(n,v);if(!z(F))if(_(v))b(n,v,v.init);else throw new Error("no atom init");return m(F)}const V=c(n,v);try{return m(V)}finally{s.d.set(v,V.n),W(s.v)&&P(e,s.v,V),(T=l.get(v))==null||T.t.add(e),p||S()}}let E,I;const un={get signal(){return E||(E=new AbortController),E.signal},get setSelf(){return!I&&M(e)&&(I=(...v)=>{if(!p)try{return y(n,e,...v)}finally{i(n),f(n)}}),I}},x=s.n;try{const v=h(n,e,L,un);return b(n,e,v),k(v)&&(D(v,()=>E==null?void 0:E.abort()),v.then(S,S)),(r=g.r)==null||r.call(g,e),s}catch(v){return delete s.v,s.e=v,++s.n,s}finally{p=!1,x!==s.n&&a.get(e)===x&&(a.set(e,s.n),u.add(e),(t=g.c)==null||t.call(g,e))}},en=(n,e)=>{const r=w(n),t=r[1],o=r[2],l=r[11],a=[e];for(;a.length;){const u=a.pop(),g=l(n,u);for(const h of O(u,g,t)){const d=l(n,h);o.set(h,d.n),a.push(h)}}},H=(n,e,...r)=>{const t=w(n),o=t[3],l=t[6],a=t[8],u=t[11],g=t[12],h=t[13],d=t[14],f=t[15],i=t[17];let c=!0;const y=s=>m(d(n,s)),N=(s,...p)=>{var S;const L=u(n,s);try{if(s===e){if(!_(s))throw new Error("atom not writable");const E=L.n,I=p[0];b(n,s,I),i(n,s),E!==L.n&&(o.add(s),(S=l.c)==null||S.call(l,s),f(n,s));return}else return H(n,s,...p)}finally{c||(h(n),g(n))}};try{return a(n,e,y,N,...r)}finally{c=!1}},tn=(n,e)=>{var r;const t=w(n),o=t[1],l=t[3],a=t[6],u=t[11],g=t[15],h=t[18],d=t[19],f=u(n,e),i=o.get(e);if(i&&!W(f.v)){for(const[c,y]of f.d)if(!i.d.has(c)){const N=u(n,c);h(n,c).t.add(e),i.d.add(c),y!==N.n&&(l.add(c),(r=a.c)==null||r.call(a,c),g(n,c))}for(const c of i.d||[])if(!f.d.has(c)){i.d.delete(c);const y=d(n,c);y==null||y.t.delete(e)}}},C=(n,e)=>{var r;const t=w(n),o=t[1],l=t[4],a=t[6],u=t[10],g=t[11],h=t[12],d=t[13],f=t[14],i=t[16],c=g(n,e);let y=o.get(e);if(!y){f(n,e);for(const N of c.d.keys())C(n,N).t.add(e);if(y={l:new Set,d:new Set(c.d.keys()),t:new Set},o.set(e,y),(r=a.m)==null||r.call(a,e),M(e)){const N=()=>{let s=!0;const p=(...S)=>{try{return i(n,e,...S)}finally{s||(d(n),h(n))}};try{const S=u(n,e,p);S&&(y.u=()=>{s=!0;try{S()}finally{s=!1}})}finally{s=!1}};l.add(N)}}return y},rn=(n,e)=>{var r;const t=w(n),o=t[1],l=t[5],a=t[6],u=t[11],g=t[19],h=u(n,e);let d=o.get(e);if(d&&!d.l.size&&!Array.from(d.t).some(f=>{var i;return(i=o.get(f))==null?void 0:i.d.has(e)})){d.u&&l.add(d.u),d=void 0,o.delete(e),(r=a.u)==null||r.call(a,e);for(const f of h.d.keys()){const i=g(n,f);i==null||i.t.delete(e)}return}return d},b=(n,e,r)=>{const t=w(n)[11],o=t(n,e),l="v"in o,a=o.v;if(k(r))for(const u of o.d.keys())P(e,r,t(n,u));o.v=r,delete o.e,(!l||!Object.is(a,o.v))&&(++o.n,k(a)&&B(a))},on=(n,e)=>{const r=w(n)[14];return m(r(n,e))},ln=(n,e,...r)=>{const t=w(n),o=t[12],l=t[13],a=t[16];try{return a(n,e,...r)}finally{l(n),o(n)}},an=(n,e,r)=>{const t=w(n),o=t[12],l=t[18],a=t[19],u=l(n,e).l;return u.add(r),o(n),()=>{u.delete(r),a(n,e),o(n)}},q=new WeakMap,w=n=>q.get(n);function sn(n){const e=w(n),r=e[24];return r?r(e):e}function cn(...n){const e={get(t){const o=w(e)[21];return o(e,t)},set(t,...o){const l=w(e)[22];return l(e,t,...o)},sub(t,o){const l=w(e)[23];return l(e,t,o)}},r=[new WeakMap,new WeakMap,new WeakMap,new Set,new Set,new Set,{},K,Q,U,X,Y,Z,$,nn,en,H,tn,C,rn,b,on,ln,an,void 0].map((t,o)=>n[o]||t);return q.set(e,Object.freeze(r)),e}})}}));
