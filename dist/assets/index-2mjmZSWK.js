import{r as i,av as Ks,j as s,a as xo,aw as ss,ax as bo,ay as jl,P as Fe,az as Sl,aA as Cl,aB as xt,aC as wl,b as Ee,aD as Al,aE as Tl,aF as Dl,aG as an,aH as Il,aI as Ll,aJ as nn,aK as rn,aL as cn,aM as Yt,aq as _l,aN as Ml,aO as dn,u as mn,aP as un,aQ as fl,aR as hn,aS as fn,aT as Rl,aU as gn,aV as pn,aW as xn,aX as to,aY as Nl,aZ as yo,a_ as bn,v as bt,a$ as ds,b0 as yn,p as We,af as w,b1 as vn,b2 as jn,o as El,b3 as Sn,m as kl,b4 as Pl,b5 as vo,b6 as $l,H as Cn,b7 as wn,b8 as An,b9 as Tn,ba as Dn,x as In,bb as Ln,bc as _n,q as Ol,B as jo,M as Ut,N as So,bd as Vs,Z as ct,be as Ze,D as Co,ad as Y,W as $o,bf as Ho,bg as Mn,K as Ct,bh as Rn,V as Bl,bi as Ko,O as Dt,bj as Nn,ae as Je,ak as L,a2 as qe,bk as Wl,T as Gs,Q as En,bl as kn,bm as Pn,ac as ns,bn as $n,bo as On,bp as Bn,$ as Wn,bq as Fl,br as Fn,bs as zn,bt as Vn,bu as Un,bv as Hn,a1 as gl,bw as ts,bx as ko,by as Kn,bz as Gn,bA as Zn,bB as qn,bC as Jn,bD as Yn,bE as Xn,bF as Qn,bG as ei,bH as ti,bI as si,bJ as oi,bK as li,bL as ai,bM as ni,bN as ii,bO as ri,bP as ci,bQ as di,bR as mi,bS as ui,bT as zl,bU as hi,bV as fi,bW as gi,bX as pi,bY as xi,bZ as bi,b_ as yi,b$ as vi,c0 as ji,c1 as Si,c2 as Ci,c3 as wi,am as Xt,c4 as Ai,c5 as Ti,c6 as Di,c7 as Ii,c8 as Li,c9 as _i,ca as Mi,cb as Ri,cc as Ni,cd as Ei,ce as ki,cf as pl,cg as Pi,ch as $i,ci as Oi,cj as Bi,ck as Wi,cl as Fi,cm as zi,cn as Vi,at as Jt,X as Ui,Y as Hi,co as Ki,J as Gi,cp as Zi,cq as qi}from"./index-kOEx1-WA.js";import{I as $s,y as pt}from"./radio-group-D0weg0V2.js";import{c as Us}from"./checkbox-Ch1NbfDG.js";import{D as Vl}from"./chunk-27-B4ZkMXwn.js";var wo="Dialog",[Ul]=xo(wo),[Ji,Nt]=Ul(wo),Hl=e=>{const{__scopeDialog:t,children:a,open:o,defaultOpen:n,onOpenChange:r,modal:c=!0}=e,l=i.useRef(null),d=i.useRef(null),[u,g]=Ks({prop:o,defaultProp:n??!1,onChange:r,caller:wo});return s.jsx(Ji,{scope:t,triggerRef:l,contentRef:d,contentId:ss(),titleId:ss(),descriptionId:ss(),open:u,onOpenChange:g,onOpenToggle:i.useCallback(()=>g(p=>!p),[g]),modal:c,children:a})};Hl.displayName=wo;var Kl="DialogTrigger",Gl=i.forwardRef((e,t)=>{const{__scopeDialog:a,...o}=e,n=Nt(Kl,a),r=xt(t,n.triggerRef);return s.jsx(Fe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":qo(n.open),...o,ref:r,onClick:Ee(e.onClick,n.onOpenToggle)})});Gl.displayName=Kl;var Go="DialogPortal",[Yi,Zl]=Ul(Go,{forceMount:void 0}),ql=e=>{const{__scopeDialog:t,forceMount:a,children:o,container:n}=e,r=Nt(Go,t);return s.jsx(Yi,{scope:t,forceMount:a,children:i.Children.map(o,c=>s.jsx(bo,{present:a||r.open,children:s.jsx(jl,{asChild:!0,container:n,children:c})}))})};ql.displayName=Go;var oo="DialogOverlay",Jl=i.forwardRef((e,t)=>{const a=Zl(oo,e.__scopeDialog),{forceMount:o=a.forceMount,...n}=e,r=Nt(oo,e.__scopeDialog);return r.modal?s.jsx(bo,{present:o||r.open,children:s.jsx(Qi,{...n,ref:t})}):null});Jl.displayName=oo;var Xi=Cl("DialogOverlay.RemoveScroll"),Qi=i.forwardRef((e,t)=>{const{__scopeDialog:a,...o}=e,n=Nt(oo,a);return s.jsx(Sl,{as:Xi,allowPinchZoom:!0,shards:[n.contentRef],children:s.jsx(Fe.div,{"data-state":qo(n.open),...o,ref:t,style:{pointerEvents:"auto",...o.style}})})}),is="DialogContent",Yl=i.forwardRef((e,t)=>{const a=Zl(is,e.__scopeDialog),{forceMount:o=a.forceMount,...n}=e,r=Nt(is,e.__scopeDialog);return s.jsx(bo,{present:o||r.open,children:r.modal?s.jsx(er,{...n,ref:t}):s.jsx(tr,{...n,ref:t})})});Yl.displayName=is;var er=i.forwardRef((e,t)=>{const a=Nt(is,e.__scopeDialog),o=i.useRef(null),n=xt(t,a.contentRef,o);return i.useEffect(()=>{const r=o.current;if(r)return wl(r)},[]),s.jsx(Xl,{...e,ref:n,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ee(e.onCloseAutoFocus,r=>{r.preventDefault(),a.triggerRef.current?.focus()}),onPointerDownOutside:Ee(e.onPointerDownOutside,r=>{const c=r.detail.originalEvent,l=c.button===0&&c.ctrlKey===!0;(c.button===2||l)&&r.preventDefault()}),onFocusOutside:Ee(e.onFocusOutside,r=>r.preventDefault())})}),tr=i.forwardRef((e,t)=>{const a=Nt(is,e.__scopeDialog),o=i.useRef(!1),n=i.useRef(!1);return s.jsx(Xl,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:r=>{e.onCloseAutoFocus?.(r),r.defaultPrevented||(o.current||a.triggerRef.current?.focus(),r.preventDefault()),o.current=!1,n.current=!1},onInteractOutside:r=>{e.onInteractOutside?.(r),r.defaultPrevented||(o.current=!0,r.detail.originalEvent.type==="pointerdown"&&(n.current=!0));const c=r.target;a.triggerRef.current?.contains(c)&&r.preventDefault(),r.detail.originalEvent.type==="focusin"&&n.current&&r.preventDefault()}})}),Xl=i.forwardRef((e,t)=>{const{__scopeDialog:a,trapFocus:o,onOpenAutoFocus:n,onCloseAutoFocus:r,...c}=e,l=Nt(is,a),d=i.useRef(null),u=xt(t,d);return Al(),s.jsxs(s.Fragment,{children:[s.jsx(Tl,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:n,onUnmountAutoFocus:r,children:s.jsx(Dl,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":qo(l.open),...c,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(sr,{titleId:l.titleId}),s.jsx(lr,{contentRef:d,descriptionId:l.descriptionId})]})]})}),Zo="DialogTitle",Ql=i.forwardRef((e,t)=>{const{__scopeDialog:a,...o}=e,n=Nt(Zo,a);return s.jsx(Fe.h2,{id:n.titleId,...o,ref:t})});Ql.displayName=Zo;var ea="DialogDescription",ta=i.forwardRef((e,t)=>{const{__scopeDialog:a,...o}=e,n=Nt(ea,a);return s.jsx(Fe.p,{id:n.descriptionId,...o,ref:t})});ta.displayName=ea;var sa="DialogClose",oa=i.forwardRef((e,t)=>{const{__scopeDialog:a,...o}=e,n=Nt(sa,a);return s.jsx(Fe.button,{type:"button",...o,ref:t,onClick:Ee(e.onClick,()=>n.onOpenChange(!1))})});oa.displayName=sa;function qo(e){return e?"open":"closed"}var la="DialogTitleWarning",[$d,aa]=an(la,{contentName:is,titleName:Zo,docsSlug:"dialog"}),sr=({titleId:e})=>{const t=aa(la),a=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return i.useEffect(()=>{e&&(document.getElementById(e)||console.error(a))},[a,e]),null},or="DialogDescriptionWarning",lr=({contentRef:e,descriptionId:t})=>{const o=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${aa(or).contentName}}.`;return i.useEffect(()=>{const n=e.current?.getAttribute("aria-describedby");t&&n&&(document.getElementById(t)||console.warn(o))},[o,e,t]),null},ar=Hl,nr=Gl,ir=ql,rr=Jl,cr=Yl,dr=Ql,mr=ta,ur=oa,hr=[" ","Enter","ArrowUp","ArrowDown"],fr=[" ","Enter"],rs="Select",[Ao,To,gr]=rn(rs),[Os]=xo(rs,[gr,Il]),Do=Il(),[pr,Qt]=Os(rs),[xr,br]=Os(rs),na=e=>{const{__scopeSelect:t,children:a,open:o,defaultOpen:n,onOpenChange:r,value:c,defaultValue:l,onValueChange:d,dir:u,name:g,autoComplete:p,disabled:C,required:x,form:b}=e,f=Do(t),[y,v]=i.useState(null),[h,j]=i.useState(null),[R,S]=i.useState(!1),O=Ll(u),[I,P]=Ks({prop:o,defaultProp:n??!1,onChange:r,caller:rs}),[A,T]=Ks({prop:c,defaultProp:l,onChange:d,caller:rs}),N=i.useRef(null),E=y?b||!!y.closest("form"):!0,[F,k]=i.useState(new Set),B=Array.from(F).map(m=>m.props.value).join(";");return s.jsx(nn,{...f,children:s.jsxs(pr,{required:x,scope:t,trigger:y,onTriggerChange:v,valueNode:h,onValueNodeChange:j,valueNodeHasChildren:R,onValueNodeHasChildrenChange:S,contentId:ss(),value:A,onValueChange:T,open:I,onOpenChange:P,dir:O,triggerPointerDownPosRef:N,disabled:C,children:[s.jsx(Ao.Provider,{scope:t,children:s.jsx(xr,{scope:e.__scopeSelect,onNativeOptionAdd:i.useCallback(m=>{k(M=>new Set(M).add(m))},[]),onNativeOptionRemove:i.useCallback(m=>{k(M=>{const z=new Set(M);return z.delete(m),z})},[]),children:a})}),E?s.jsxs(La,{"aria-hidden":!0,required:x,tabIndex:-1,name:g,autoComplete:p,value:A,onChange:m=>T(m.target.value),disabled:C,form:b,children:[A===void 0?s.jsx("option",{value:""}):null,Array.from(F)]},B):null]})})};na.displayName=rs;var ia="SelectTrigger",ra=i.forwardRef((e,t)=>{const{__scopeSelect:a,disabled:o=!1,...n}=e,r=Do(a),c=Qt(ia,a),l=c.disabled||o,d=xt(t,c.onTriggerChange),u=To(a),g=i.useRef("touch"),[p,C,x]=Ma(f=>{const y=u().filter(j=>!j.disabled),v=y.find(j=>j.value===c.value),h=Ra(y,f,v);h!==void 0&&c.onValueChange(h.value)}),b=f=>{l||(c.onOpenChange(!0),x()),f&&(c.triggerPointerDownPosRef.current={x:Math.round(f.pageX),y:Math.round(f.pageY)})};return s.jsx(cn,{asChild:!0,...r,children:s.jsx(Fe.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":_a(c.value)?"":void 0,...n,ref:d,onClick:Ee(n.onClick,f=>{f.currentTarget.focus(),g.current!=="mouse"&&b(f)}),onPointerDown:Ee(n.onPointerDown,f=>{g.current=f.pointerType;const y=f.target;y.hasPointerCapture(f.pointerId)&&y.releasePointerCapture(f.pointerId),f.button===0&&f.ctrlKey===!1&&f.pointerType==="mouse"&&(b(f),f.preventDefault())}),onKeyDown:Ee(n.onKeyDown,f=>{const y=p.current!=="";!(f.ctrlKey||f.altKey||f.metaKey)&&f.key.length===1&&C(f.key),!(y&&f.key===" ")&&hr.includes(f.key)&&(b(),f.preventDefault())})})})});ra.displayName=ia;var ca="SelectValue",da=i.forwardRef((e,t)=>{const{__scopeSelect:a,className:o,style:n,children:r,placeholder:c="",...l}=e,d=Qt(ca,a),{onValueNodeHasChildrenChange:u}=d,g=r!==void 0,p=xt(t,d.onValueNodeChange);return Yt(()=>{u(g)},[u,g]),s.jsx(Fe.span,{...l,ref:p,style:{pointerEvents:"none"},children:_a(d.value)?s.jsx(s.Fragment,{children:c}):r})});da.displayName=ca;var yr="SelectIcon",ma=i.forwardRef((e,t)=>{const{__scopeSelect:a,children:o,...n}=e;return s.jsx(Fe.span,{"aria-hidden":!0,...n,ref:t,children:o||"▼"})});ma.displayName=yr;var vr="SelectPortal",ua=e=>s.jsx(jl,{asChild:!0,...e});ua.displayName=vr;var cs="SelectContent",ha=i.forwardRef((e,t)=>{const a=Qt(cs,e.__scopeSelect),[o,n]=i.useState();if(Yt(()=>{n(new DocumentFragment)},[]),!a.open){const r=o;return r?_l.createPortal(s.jsx(fa,{scope:e.__scopeSelect,children:s.jsx(Ao.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),r):null}return s.jsx(ga,{...e,ref:t})});ha.displayName=cs;var Rt=10,[fa,es]=Os(cs),jr="SelectContentImpl",Sr=Cl("SelectContent.RemoveScroll"),ga=i.forwardRef((e,t)=>{const{__scopeSelect:a,position:o="item-aligned",onCloseAutoFocus:n,onEscapeKeyDown:r,onPointerDownOutside:c,side:l,sideOffset:d,align:u,alignOffset:g,arrowPadding:p,collisionBoundary:C,collisionPadding:x,sticky:b,hideWhenDetached:f,avoidCollisions:y,...v}=e,h=Qt(cs,a),[j,R]=i.useState(null),[S,O]=i.useState(null),I=xt(t,D=>R(D)),[P,A]=i.useState(null),[T,N]=i.useState(null),E=To(a),[F,k]=i.useState(!1),B=i.useRef(!1);i.useEffect(()=>{if(j)return wl(j)},[j]),Al();const m=i.useCallback(D=>{const[H,...K]=E().map(V=>V.ref.current),[W]=K.slice(-1),_=document.activeElement;for(const V of D)if(V===_||(V?.scrollIntoView({block:"nearest"}),V===H&&S&&(S.scrollTop=0),V===W&&S&&(S.scrollTop=S.scrollHeight),V?.focus(),document.activeElement!==_))return},[E,S]),M=i.useCallback(()=>m([P,j]),[m,P,j]);i.useEffect(()=>{F&&M()},[F,M]);const{onOpenChange:z,triggerPointerDownPosRef:$}=h;i.useEffect(()=>{if(j){let D={x:0,y:0};const H=W=>{D={x:Math.abs(Math.round(W.pageX)-($.current?.x??0)),y:Math.abs(Math.round(W.pageY)-($.current?.y??0))}},K=W=>{D.x<=10&&D.y<=10?W.preventDefault():j.contains(W.target)||z(!1),document.removeEventListener("pointermove",H),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",H),document.addEventListener("pointerup",K,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",H),document.removeEventListener("pointerup",K,{capture:!0})}}},[j,z,$]),i.useEffect(()=>{const D=()=>z(!1);return window.addEventListener("blur",D),window.addEventListener("resize",D),()=>{window.removeEventListener("blur",D),window.removeEventListener("resize",D)}},[z]);const[G,U]=Ma(D=>{const H=E().filter(_=>!_.disabled),K=H.find(_=>_.ref.current===document.activeElement),W=Ra(H,D,K);W&&setTimeout(()=>W.ref.current.focus())}),se=i.useCallback((D,H,K)=>{const W=!B.current&&!K;(h.value!==void 0&&h.value===H||W)&&(A(D),W&&(B.current=!0))},[h.value]),Z=i.useCallback(()=>j?.focus(),[j]),X=i.useCallback((D,H,K)=>{const W=!B.current&&!K;(h.value!==void 0&&h.value===H||W)&&N(D)},[h.value]),q=o==="popper"?Oo:pa,ue=q===Oo?{side:l,sideOffset:d,align:u,alignOffset:g,arrowPadding:p,collisionBoundary:C,collisionPadding:x,sticky:b,hideWhenDetached:f,avoidCollisions:y}:{};return s.jsx(fa,{scope:a,content:j,viewport:S,onViewportChange:O,itemRefCallback:se,selectedItem:P,onItemLeave:Z,itemTextRefCallback:X,focusSelectedItem:M,selectedItemText:T,position:o,isPositioned:F,searchRef:G,children:s.jsx(Sl,{as:Sr,allowPinchZoom:!0,children:s.jsx(Tl,{asChild:!0,trapped:h.open,onMountAutoFocus:D=>{D.preventDefault()},onUnmountAutoFocus:Ee(n,D=>{h.trigger?.focus({preventScroll:!0}),D.preventDefault()}),children:s.jsx(Dl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:r,onPointerDownOutside:c,onFocusOutside:D=>D.preventDefault(),onDismiss:()=>h.onOpenChange(!1),children:s.jsx(q,{role:"listbox",id:h.contentId,"data-state":h.open?"open":"closed",dir:h.dir,onContextMenu:D=>D.preventDefault(),...v,...ue,onPlaced:()=>k(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:Ee(v.onKeyDown,D=>{const H=D.ctrlKey||D.altKey||D.metaKey;if(D.key==="Tab"&&D.preventDefault(),!H&&D.key.length===1&&U(D.key),["ArrowUp","ArrowDown","Home","End"].includes(D.key)){let W=E().filter(_=>!_.disabled).map(_=>_.ref.current);if(["ArrowUp","End"].includes(D.key)&&(W=W.slice().reverse()),["ArrowUp","ArrowDown"].includes(D.key)){const _=D.target,V=W.indexOf(_);W=W.slice(V+1)}setTimeout(()=>m(W)),D.preventDefault()}})})})})})})});ga.displayName=jr;var Cr="SelectItemAlignedPosition",pa=i.forwardRef((e,t)=>{const{__scopeSelect:a,onPlaced:o,...n}=e,r=Qt(cs,a),c=es(cs,a),[l,d]=i.useState(null),[u,g]=i.useState(null),p=xt(t,I=>g(I)),C=To(a),x=i.useRef(!1),b=i.useRef(!0),{viewport:f,selectedItem:y,selectedItemText:v,focusSelectedItem:h}=c,j=i.useCallback(()=>{if(r.trigger&&r.valueNode&&l&&u&&f&&y&&v){const I=r.trigger.getBoundingClientRect(),P=u.getBoundingClientRect(),A=r.valueNode.getBoundingClientRect(),T=v.getBoundingClientRect();if(r.dir!=="rtl"){const _=T.left-P.left,V=A.left-_,te=I.left-V,oe=I.width+te,le=Math.max(oe,P.width),J=window.innerWidth-Rt,ae=fl(V,[Rt,Math.max(Rt,J-le)]);l.style.minWidth=oe+"px",l.style.left=ae+"px"}else{const _=P.right-T.right,V=window.innerWidth-A.right-_,te=window.innerWidth-I.right-V,oe=I.width+te,le=Math.max(oe,P.width),J=window.innerWidth-Rt,ae=fl(V,[Rt,Math.max(Rt,J-le)]);l.style.minWidth=oe+"px",l.style.right=ae+"px"}const N=C(),E=window.innerHeight-Rt*2,F=f.scrollHeight,k=window.getComputedStyle(u),B=parseInt(k.borderTopWidth,10),m=parseInt(k.paddingTop,10),M=parseInt(k.borderBottomWidth,10),z=parseInt(k.paddingBottom,10),$=B+m+F+z+M,G=Math.min(y.offsetHeight*5,$),U=window.getComputedStyle(f),se=parseInt(U.paddingTop,10),Z=parseInt(U.paddingBottom,10),X=I.top+I.height/2-Rt,q=E-X,ue=y.offsetHeight/2,D=y.offsetTop+ue,H=B+m+D,K=$-H;if(H<=X){const _=N.length>0&&y===N[N.length-1].ref.current;l.style.bottom="0px";const V=u.clientHeight-f.offsetTop-f.offsetHeight,te=Math.max(q,ue+(_?Z:0)+V+M),oe=H+te;l.style.height=oe+"px"}else{const _=N.length>0&&y===N[0].ref.current;l.style.top="0px";const te=Math.max(X,B+f.offsetTop+(_?se:0)+ue)+K;l.style.height=te+"px",f.scrollTop=H-X+f.offsetTop}l.style.margin=`${Rt}px 0`,l.style.minHeight=G+"px",l.style.maxHeight=E+"px",o?.(),requestAnimationFrame(()=>x.current=!0)}},[C,r.trigger,r.valueNode,l,u,f,y,v,r.dir,o]);Yt(()=>j(),[j]);const[R,S]=i.useState();Yt(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const O=i.useCallback(I=>{I&&b.current===!0&&(j(),h?.(),b.current=!1)},[j,h]);return s.jsx(Ar,{scope:a,contentWrapper:l,shouldExpandOnScrollRef:x,onScrollButtonChange:O,children:s.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:R},children:s.jsx(Fe.div,{...n,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...n.style}})})})});pa.displayName=Cr;var wr="SelectPopperPosition",Oo=i.forwardRef((e,t)=>{const{__scopeSelect:a,align:o="start",collisionPadding:n=Rt,...r}=e,c=Do(a);return s.jsx(un,{...c,...r,ref:t,align:o,collisionPadding:n,style:{boxSizing:"border-box",...r.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Oo.displayName=wr;var[Ar,Jo]=Os(cs,{}),Bo="SelectViewport",xa=i.forwardRef((e,t)=>{const{__scopeSelect:a,nonce:o,...n}=e,r=es(Bo,a),c=Jo(Bo,a),l=xt(t,r.onViewportChange),d=i.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),s.jsx(Ao.Slot,{scope:a,children:s.jsx(Fe.div,{"data-radix-select-viewport":"",role:"presentation",...n,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...n.style},onScroll:Ee(n.onScroll,u=>{const g=u.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:C}=c;if(C?.current&&p){const x=Math.abs(d.current-g.scrollTop);if(x>0){const b=window.innerHeight-Rt*2,f=parseFloat(p.style.minHeight),y=parseFloat(p.style.height),v=Math.max(f,y);if(v<b){const h=v+x,j=Math.min(b,h),R=h-j;p.style.height=j+"px",p.style.bottom==="0px"&&(g.scrollTop=R>0?R:0,p.style.justifyContent="flex-end")}}}d.current=g.scrollTop})})})]})});xa.displayName=Bo;var ba="SelectGroup",[Tr,Dr]=Os(ba),ya=i.forwardRef((e,t)=>{const{__scopeSelect:a,...o}=e,n=ss();return s.jsx(Tr,{scope:a,id:n,children:s.jsx(Fe.div,{role:"group","aria-labelledby":n,...o,ref:t})})});ya.displayName=ba;var va="SelectLabel",ja=i.forwardRef((e,t)=>{const{__scopeSelect:a,...o}=e,n=Dr(va,a);return s.jsx(Fe.div,{id:n.id,...o,ref:t})});ja.displayName=va;var lo="SelectItem",[Ir,Sa]=Os(lo),Ca=i.forwardRef((e,t)=>{const{__scopeSelect:a,value:o,disabled:n=!1,textValue:r,...c}=e,l=Qt(lo,a),d=es(lo,a),u=l.value===o,[g,p]=i.useState(r??""),[C,x]=i.useState(!1),b=xt(t,h=>d.itemRefCallback?.(h,o,n)),f=ss(),y=i.useRef("touch"),v=()=>{n||(l.onValueChange(o),l.onOpenChange(!1))};if(o==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(Ir,{scope:a,value:o,disabled:n,textId:f,isSelected:u,onItemTextChange:i.useCallback(h=>{p(j=>j||(h?.textContent??"").trim())},[]),children:s.jsx(Ao.ItemSlot,{scope:a,value:o,disabled:n,textValue:g,children:s.jsx(Fe.div,{role:"option","aria-labelledby":f,"data-highlighted":C?"":void 0,"aria-selected":u&&C,"data-state":u?"checked":"unchecked","aria-disabled":n||void 0,"data-disabled":n?"":void 0,tabIndex:n?void 0:-1,...c,ref:b,onFocus:Ee(c.onFocus,()=>x(!0)),onBlur:Ee(c.onBlur,()=>x(!1)),onClick:Ee(c.onClick,()=>{y.current!=="mouse"&&v()}),onPointerUp:Ee(c.onPointerUp,()=>{y.current==="mouse"&&v()}),onPointerDown:Ee(c.onPointerDown,h=>{y.current=h.pointerType}),onPointerMove:Ee(c.onPointerMove,h=>{y.current=h.pointerType,n?d.onItemLeave?.():y.current==="mouse"&&h.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ee(c.onPointerLeave,h=>{h.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:Ee(c.onKeyDown,h=>{d.searchRef?.current!==""&&h.key===" "||(fr.includes(h.key)&&v(),h.key===" "&&h.preventDefault())})})})})});Ca.displayName=lo;var Ws="SelectItemText",wa=i.forwardRef((e,t)=>{const{__scopeSelect:a,className:o,style:n,...r}=e,c=Qt(Ws,a),l=es(Ws,a),d=Sa(Ws,a),u=br(Ws,a),[g,p]=i.useState(null),C=xt(t,v=>p(v),d.onItemTextChange,v=>l.itemTextRefCallback?.(v,d.value,d.disabled)),x=g?.textContent,b=i.useMemo(()=>s.jsx("option",{value:d.value,disabled:d.disabled,children:x},d.value),[d.disabled,d.value,x]),{onNativeOptionAdd:f,onNativeOptionRemove:y}=u;return Yt(()=>(f(b),()=>y(b)),[f,y,b]),s.jsxs(s.Fragment,{children:[s.jsx(Fe.span,{id:d.textId,...r,ref:C}),d.isSelected&&c.valueNode&&!c.valueNodeHasChildren?_l.createPortal(r.children,c.valueNode):null]})});wa.displayName=Ws;var Aa="SelectItemIndicator",Ta=i.forwardRef((e,t)=>{const{__scopeSelect:a,...o}=e;return Sa(Aa,a).isSelected?s.jsx(Fe.span,{"aria-hidden":!0,...o,ref:t}):null});Ta.displayName=Aa;var Wo="SelectScrollUpButton",Lr=i.forwardRef((e,t)=>{const a=es(Wo,e.__scopeSelect),o=Jo(Wo,e.__scopeSelect),[n,r]=i.useState(!1),c=xt(t,o.onScrollButtonChange);return Yt(()=>{if(a.viewport&&a.isPositioned){let l=function(){const u=d.scrollTop>0;r(u)};const d=a.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[a.viewport,a.isPositioned]),n?s.jsx(Da,{...e,ref:c,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=a;l&&d&&(l.scrollTop=l.scrollTop-d.offsetHeight)}}):null});Lr.displayName=Wo;var Fo="SelectScrollDownButton",_r=i.forwardRef((e,t)=>{const a=es(Fo,e.__scopeSelect),o=Jo(Fo,e.__scopeSelect),[n,r]=i.useState(!1),c=xt(t,o.onScrollButtonChange);return Yt(()=>{if(a.viewport&&a.isPositioned){let l=function(){const u=d.scrollHeight-d.clientHeight,g=Math.ceil(d.scrollTop)<u;r(g)};const d=a.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[a.viewport,a.isPositioned]),n?s.jsx(Da,{...e,ref:c,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=a;l&&d&&(l.scrollTop=l.scrollTop+d.offsetHeight)}}):null});_r.displayName=Fo;var Da=i.forwardRef((e,t)=>{const{__scopeSelect:a,onAutoScroll:o,...n}=e,r=es("SelectScrollButton",a),c=i.useRef(null),l=To(a),d=i.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return i.useEffect(()=>()=>d(),[d]),Yt(()=>{l().find(g=>g.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),s.jsx(Fe.div,{"aria-hidden":!0,...n,ref:t,style:{flexShrink:0,...n.style},onPointerDown:Ee(n.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(o,50))}),onPointerMove:Ee(n.onPointerMove,()=>{r.onItemLeave?.(),c.current===null&&(c.current=window.setInterval(o,50))}),onPointerLeave:Ee(n.onPointerLeave,()=>{d()})})}),Mr="SelectSeparator",Ia=i.forwardRef((e,t)=>{const{__scopeSelect:a,...o}=e;return s.jsx(Fe.div,{"aria-hidden":!0,...o,ref:t})});Ia.displayName=Mr;var zo="SelectArrow",Rr=i.forwardRef((e,t)=>{const{__scopeSelect:a,...o}=e,n=Do(a),r=Qt(zo,a),c=es(zo,a);return r.open&&c.position==="popper"?s.jsx(hn,{...n,...o,ref:t}):null});Rr.displayName=zo;var Nr="SelectBubbleInput",La=i.forwardRef(({__scopeSelect:e,value:t,...a},o)=>{const n=i.useRef(null),r=xt(o,n),c=Ml(t);return i.useEffect(()=>{const l=n.current;if(!l)return;const d=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(d,"value").set;if(c!==t&&g){const p=new Event("change",{bubbles:!0});g.call(l,t),l.dispatchEvent(p)}},[c,t]),s.jsx(Fe.select,{...a,style:{...dn,...a.style},ref:r,defaultValue:t})});La.displayName=Nr;function _a(e){return e===""||e===void 0}function Ma(e){const t=mn(e),a=i.useRef(""),o=i.useRef(0),n=i.useCallback(c=>{const l=a.current+c;t(l),(function d(u){a.current=u,window.clearTimeout(o.current),u!==""&&(o.current=window.setTimeout(()=>d(""),1e3))})(l)},[t]),r=i.useCallback(()=>{a.current="",window.clearTimeout(o.current)},[]);return i.useEffect(()=>()=>window.clearTimeout(o.current),[]),[a,n,r]}function Ra(e,t,a){const n=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,r=a?e.indexOf(a):-1;let c=Er(e,Math.max(r,0));n.length===1&&(c=c.filter(u=>u!==a));const d=c.find(u=>u.textValue.toLowerCase().startsWith(n.toLowerCase()));return d!==a?d:void 0}function Er(e,t){return e.map((a,o)=>e[(t+o)%e.length])}var kr=na,Pr=ra,$r=da,Or=ma,Br=ua,Wr=ha,Fr=xa,zr=ya,Vr=ja,Ur=Ca,Hr=wa,Kr=Ta,Gr=Ia,Io="Switch",[Zr]=xo(Io),[qr,Jr]=Zr(Io),Na=i.forwardRef((e,t)=>{const{__scopeSwitch:a,name:o,checked:n,defaultChecked:r,required:c,disabled:l,value:d="on",onCheckedChange:u,form:g,...p}=e,[C,x]=i.useState(null),b=xt(t,j=>x(j)),f=i.useRef(!1),y=C?g||!!C.closest("form"):!0,[v,h]=Ks({prop:n,defaultProp:r??!1,onChange:u,caller:Io});return s.jsxs(qr,{scope:a,checked:v,disabled:l,children:[s.jsx(Fe.button,{type:"button",role:"switch","aria-checked":v,"aria-required":c,"data-state":$a(v),"data-disabled":l?"":void 0,disabled:l,value:d,...p,ref:b,onClick:Ee(e.onClick,j=>{h(R=>!R),y&&(f.current=j.isPropagationStopped(),f.current||j.stopPropagation())})}),y&&s.jsx(Pa,{control:C,bubbles:!f.current,name:o,value:d,checked:v,required:c,disabled:l,form:g,style:{transform:"translateX(-100%)"}})]})});Na.displayName=Io;var Ea="SwitchThumb",ka=i.forwardRef((e,t)=>{const{__scopeSwitch:a,...o}=e,n=Jr(Ea,a);return s.jsx(Fe.span,{"data-state":$a(n.checked),"data-disabled":n.disabled?"":void 0,...o,ref:t})});ka.displayName=Ea;var Yr="SwitchBubbleInput",Pa=i.forwardRef(({__scopeSwitch:e,control:t,checked:a,bubbles:o=!0,...n},r)=>{const c=i.useRef(null),l=xt(c,r),d=Ml(a),u=fn(t);return i.useEffect(()=>{const g=c.current;if(!g)return;const p=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(p,"checked").set;if(d!==a&&x){const b=new Event("click",{bubbles:o});x.call(g,a),g.dispatchEvent(b)}},[d,a,o]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a,...n,tabIndex:-1,ref:l,style:{...n.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Pa.displayName=Yr;function $a(e){return e?"checked":"unchecked"}var Xr=Na,Qr=ka,Lo="Tabs",[ec]=xo(Lo,[Rl]),Oa=Rl(),[tc,Yo]=ec(Lo),Ba=i.forwardRef((e,t)=>{const{__scopeTabs:a,value:o,onValueChange:n,defaultValue:r,orientation:c="horizontal",dir:l,activationMode:d="automatic",...u}=e,g=Ll(l),[p,C]=Ks({prop:o,onChange:n,defaultProp:r??"",caller:Lo});return s.jsx(tc,{scope:a,baseId:ss(),value:p,onValueChange:C,orientation:c,dir:g,activationMode:d,children:s.jsx(Fe.div,{dir:g,"data-orientation":c,...u,ref:t})})});Ba.displayName=Lo;var Wa="TabsList",Fa=i.forwardRef((e,t)=>{const{__scopeTabs:a,loop:o=!0,...n}=e,r=Yo(Wa,a),c=Oa(a);return s.jsx(pn,{asChild:!0,...c,orientation:r.orientation,dir:r.dir,loop:o,children:s.jsx(Fe.div,{role:"tablist","aria-orientation":r.orientation,...n,ref:t})})});Fa.displayName=Wa;var za="TabsTrigger",Va=i.forwardRef((e,t)=>{const{__scopeTabs:a,value:o,disabled:n=!1,...r}=e,c=Yo(za,a),l=Oa(a),d=Ka(c.baseId,o),u=Ga(c.baseId,o),g=o===c.value;return s.jsx(gn,{asChild:!0,...l,focusable:!n,active:g,children:s.jsx(Fe.button,{type:"button",role:"tab","aria-selected":g,"aria-controls":u,"data-state":g?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:d,...r,ref:t,onMouseDown:Ee(e.onMouseDown,p=>{!n&&p.button===0&&p.ctrlKey===!1?c.onValueChange(o):p.preventDefault()}),onKeyDown:Ee(e.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&c.onValueChange(o)}),onFocus:Ee(e.onFocus,()=>{const p=c.activationMode!=="manual";!g&&!n&&p&&c.onValueChange(o)})})})});Va.displayName=za;var Ua="TabsContent",Ha=i.forwardRef((e,t)=>{const{__scopeTabs:a,value:o,forceMount:n,children:r,...c}=e,l=Yo(Ua,a),d=Ka(l.baseId,o),u=Ga(l.baseId,o),g=o===l.value,p=i.useRef(g);return i.useEffect(()=>{const C=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(C)},[]),s.jsx(bo,{present:n||g,children:({present:C})=>s.jsx(Fe.div,{"data-state":g?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":d,hidden:!C,id:u,tabIndex:0,...c,ref:t,style:{...e.style,animationDuration:p.current?"0s":void 0},children:C&&r})})});Ha.displayName=Ua;function Ka(e,t){return`${e}-trigger-${t}`}function Ga(e,t){return`${e}-content-${t}`}var sc=Ba,oc=Fa,lc=Va,ac=Ha;const nc=["1","2","3","4"],ic={...Nl,align:{type:"enum",className:"rt-r-align",values:["start","center"],default:"center"},size:{type:"enum",className:"rt-r-size",values:nc,default:"3",responsive:!0},width:to.width,minWidth:to.minWidth,maxWidth:{...to.maxWidth,default:"600px"},...xn},rc=["1","2","3"],cc=["soft","surface","outline"],xl={...Nl,size:{type:"enum",className:"rt-r-size",values:rc,default:"2",responsive:!0},variant:{type:"enum",className:"rt-variant",values:cc,default:"soft"},...bn,...yo},Za=i.createContext({}),zt=i.forwardRef((e,t)=>{const{size:a=xl.size.default}=e,{asChild:o,children:n,className:r,color:c,...l}=bt(e,xl,ds),d=o?yn:"div";return i.createElement(d,{"data-accent-color":c,...l,className:We("rt-CalloutRoot",r),ref:t},i.createElement(Za.Provider,{value:i.useMemo(()=>({size:a}),[a])},n))});zt.displayName="Callout.Root";const Ps=i.forwardRef(({className:e,...t},a)=>i.createElement("div",{...t,className:We("rt-CalloutIcon",e),ref:a}));Ps.displayName="Callout.Icon";const Vt=i.forwardRef(({className:e,...t},a)=>{const{size:o}=i.useContext(Za);return i.createElement(w,{as:"p",size:vn(o,jn),...t,asChild:!1,ref:a,className:We("rt-CalloutText",e)})});Vt.displayName="Callout.Text";const It=e=>i.createElement(ar,{...e,modal:!0});It.displayName="Dialog.Root";const dc=i.forwardRef(({children:e,...t},a)=>i.createElement(nr,{...t,ref:a,asChild:!0},kl(e)));dc.displayName="Dialog.Trigger";const Lt=i.forwardRef(({align:e,...t},a)=>{const{align:o,...n}=ic,{className:r}=bt({align:e},{align:o}),{className:c,forceMount:l,container:d,...u}=bt(t,n);return i.createElement(ir,{container:d,forceMount:l},i.createElement(El,{asChild:!0},i.createElement(rr,{className:"rt-BaseDialogOverlay rt-DialogOverlay"},i.createElement("div",{className:"rt-BaseDialogScroll rt-DialogScroll"},i.createElement("div",{className:`rt-BaseDialogScrollPadding rt-DialogScrollPadding ${r}`},i.createElement(cr,{...u,ref:a,className:We("rt-BaseDialogContent","rt-DialogContent",c)}))))))});Lt.displayName="Dialog.Content";const _t=i.forwardRef((e,t)=>i.createElement(dr,{asChild:!0},i.createElement(Sn,{size:"5",mb:"3",trim:"start",...e,asChild:!1,ref:t})));_t.displayName="Dialog.Title";const _o=i.forwardRef((e,t)=>i.createElement(mr,{asChild:!0},i.createElement(w,{as:"p",size:"3",...e,asChild:!1,ref:t})));_o.displayName="Dialog.Description";const Bs=i.forwardRef(({children:e,...t},a)=>i.createElement(ur,{...t,ref:a,asChild:!0},kl(e)));Bs.displayName="Dialog.Close";const mc=["1","2","3"],Xo={size:{type:"enum",className:"rt-r-size",values:mc,default:"2",responsive:!0}},uc=["classic","surface","soft","ghost"],hc={variant:{type:"enum",className:"rt-variant",values:uc,default:"surface"},...vo,...Pl,placeholder:{type:"string"}},fc=["solid","soft"],gc={variant:{type:"enum",className:"rt-variant",values:fc,default:"solid"},...vo,...yo},Qo=i.createContext({}),os=e=>{const{children:t,size:a=Xo.size.default,...o}=e;return i.createElement(kr,{...o},i.createElement(Qo.Provider,{value:i.useMemo(()=>({size:a}),[a])},t))};os.displayName="Select.Root";const ls=i.forwardRef((e,t)=>{const a=i.useContext(Qo),{children:o,className:n,color:r,radius:c,placeholder:l,...d}=bt({size:a?.size,...e},{size:Xo.size},hc,ds);return i.createElement(Pr,{asChild:!0},i.createElement("button",{"data-accent-color":r,"data-radius":c,...d,ref:t,className:We("rt-reset","rt-SelectTrigger",n)},i.createElement("span",{className:"rt-SelectTriggerInner"},i.createElement($r,{placeholder:l},o)),i.createElement(Or,{asChild:!0},i.createElement($l,{className:"rt-SelectIcon"}))))});ls.displayName="Select.Trigger";const as=i.forwardRef((e,t)=>{const a=i.useContext(Qo),{className:o,children:n,color:r,container:c,...l}=bt({size:a?.size,...e},{size:Xo.size},gc),d=Cn(),u=r||d.accentColor;return i.createElement(Br,{container:c},i.createElement(El,{asChild:!0},i.createElement(Wr,{"data-accent-color":u,sideOffset:4,...l,asChild:!1,ref:t,className:We({"rt-PopperContent":l.position==="popper"},"rt-SelectContent",o)},i.createElement(wn,{type:"auto",className:"rt-ScrollAreaRoot"},i.createElement(Fr,{asChild:!0,className:"rt-SelectViewport"},i.createElement(An,{className:"rt-ScrollAreaViewport",style:{overflowY:void 0}},n)),i.createElement(Tn,{className:"rt-ScrollAreaScrollbar rt-r-size-1",orientation:"vertical"},i.createElement(Dn,{className:"rt-ScrollAreaThumb"}))))))});as.displayName="Select.Content";const ft=i.forwardRef((e,t)=>{const{className:a,children:o,...n}=e;return i.createElement(Ur,{...n,asChild:!1,ref:t,className:We("rt-SelectItem",a)},i.createElement(Kr,{className:"rt-SelectItemIndicator"},i.createElement(In,{className:"rt-SelectItemIndicatorIcon"})),i.createElement(Hr,null,o))});ft.displayName="Select.Item";const pc=i.forwardRef(({className:e,...t},a)=>i.createElement(zr,{...t,asChild:!1,ref:a,className:We("rt-SelectGroup",e)}));pc.displayName="Select.Group";const xc=i.forwardRef(({className:e,...t},a)=>i.createElement(Vr,{...t,asChild:!1,ref:a,className:We("rt-SelectLabel",e)}));xc.displayName="Select.Label";const qa=i.forwardRef(({className:e,...t},a)=>i.createElement(Gr,{...t,asChild:!1,ref:a,className:We("rt-SelectSeparator",e)}));qa.displayName="Select.Separator";const bc=["1","2","3"],yc=["classic","surface","soft"],vc={size:{type:"enum",className:"rt-r-size",values:bc,default:"2",responsive:!0},variant:{type:"enum",className:"rt-variant",values:yc,default:"surface"},...vo,...yo,...Pl},Hs=i.forwardRef((e,t)=>{const{className:a,color:o,radius:n,...r}=bt(e,vc,ds);return i.createElement(Xr,{"data-accent-color":o,"data-radius":n,...r,asChild:!1,ref:t,className:We("rt-reset","rt-SwitchRoot",a)},i.createElement(Qr,{className:We("rt-SwitchThumb",{"rt-high-contrast":e.highContrast})}))});Hs.displayName="Switch";const jc=["1","2"],Sc=["nowrap","wrap","wrap-reverse"],Cc=["start","center","end"],wc={size:{type:"enum",className:"rt-r-size",values:jc,default:"2",responsive:!0},wrap:{type:"enum",className:"rt-r-fw",values:Sc,responsive:!0},justify:{type:"enum",className:"rt-r-jc",values:Cc,responsive:!0},...vo,...yo},Ac=["1","2","3"],Tc=["surface","ghost"],Dc=["auto","fixed"],Po={size:{type:"enum",className:"rt-r-size",values:Ac,default:"2",responsive:!0},variant:{type:"enum",className:"rt-variant",values:Tc,default:"ghost"},layout:{type:"enum",className:"rt-r-tl",values:Dc,responsive:!0}},Ic=["start","center","end","baseline"],Lc={align:{type:"enum",className:"rt-r-va",values:Ic,parseValue:_c,responsive:!0}};function _c(e){return{baseline:"baseline",start:"top",center:"middle",end:"bottom"}[e]}const Mc=["start","center","end"],el={justify:{type:"enum",className:"rt-r-ta",values:Mc,parseValue:Rc,responsive:!0},...to,...Ln};function Rc(e){return{start:"left",center:"center",end:"right"}[e]}const Ja=i.forwardRef((e,t)=>{const{layout:a,...o}=Po,{className:n,children:r,layout:c,...l}=bt(e,o,ds),d=_n({value:c,className:Po.layout.className,propValues:Po.layout.values});return i.createElement("div",{ref:t,className:We("rt-TableRoot",n),...l},i.createElement(Ol,null,i.createElement("table",{className:We("rt-TableRootTable",d)},r)))});Ja.displayName="Table.Root";const Ya=i.forwardRef(({className:e,...t},a)=>i.createElement("thead",{...t,ref:a,className:We("rt-TableHeader",e)}));Ya.displayName="Table.Header";const Xa=i.forwardRef(({className:e,...t},a)=>i.createElement("tbody",{...t,ref:a,className:We("rt-TableBody",e)}));Xa.displayName="Table.Body";const so=i.forwardRef((e,t)=>{const{className:a,...o}=bt(e,Lc);return i.createElement("tr",{...o,ref:t,className:We("rt-TableRow",a)})});so.displayName="Table.Row";const Vo=i.forwardRef((e,t)=>{const{className:a,...o}=bt(e,el);return i.createElement("td",{className:We("rt-TableCell",a),ref:t,...o})});Vo.displayName="Table.Cell";const Uo=i.forwardRef((e,t)=>{const{className:a,...o}=bt(e,el);return i.createElement("th",{className:We("rt-TableCell","rt-TableColumnHeaderCell",a),scope:"col",ref:t,...o})});Uo.displayName="Table.ColumnHeaderCell";const Qa=i.forwardRef((e,t)=>{const{className:a,...o}=bt(e,el);return i.createElement("th",{className:We("rt-TableCell","rt-TableRowHeaderCell",a),scope:"row",ref:t,...o})});Qa.displayName="Table.RowHeaderCell";const en=i.forwardRef((e,t)=>{const{className:a,...o}=bt(e,ds);return i.createElement(sc,{...o,ref:t,className:We("rt-TabsRoot",a)})});en.displayName="Tabs.Root";const tn=i.forwardRef((e,t)=>{const{className:a,color:o,...n}=bt(e,wc,ds);return i.createElement(oc,{"data-accent-color":o,...n,asChild:!1,ref:t,className:We("rt-BaseTabList","rt-TabsList",a)})});tn.displayName="Tabs.List";const Fs=i.forwardRef((e,t)=>{const{className:a,children:o,...n}=e;return i.createElement(lc,{...n,asChild:!1,ref:t,className:We("rt-reset","rt-BaseTabListTrigger","rt-TabsTrigger",a)},i.createElement("span",{className:"rt-BaseTabListTriggerInner rt-TabsTriggerInner"},o),i.createElement("span",{className:"rt-BaseTabListTriggerInnerHidden rt-TabsTriggerInnerHidden"},o))});Fs.displayName="Tabs.Trigger";const zs=i.forwardRef((e,t)=>{const{className:a,...o}=bt(e,ds);return i.createElement(ac,{...o,ref:t,className:We("rt-TabsContent",a)})});zs.displayName="Tabs.Content";const Mo=jo("Info16Regular","16",["M8.5 7.5a.5.5 0 1 0-1 0v3a.5.5 0 0 0 1 0v-3Zm.25-2a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM8 1a7 7 0 1 0 0 14A7 7 0 0 0 8 1ZM2 8a6 6 0 1 1 12 0A6 6 0 0 1 2 8Z"]),Nc=jo("Add16Regular","16",["M8 2c.28 0 .5.22.5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5c0-.28.22-.5.5-.5Z"]),bl=jo("ErrorCircle16Regular","16",["M8 2a6 6 0 1 1 0 12A6 6 0 0 1 8 2Zm0 1a5 5 0 1 0 0 10A5 5 0 0 0 8 3Zm0 7a.75.75 0 1 1 0 1.5.75.75 0 0 1 0-1.5Zm0-5.5a.5.5 0 0 1 .5.41V8.5a.5.5 0 0 1-1 .09V5c0-.28.22-.5.5-.5Z"]),Ec=jo("Delete16Regular","16",["M7 3h2a1 1 0 0 0-2 0ZM6 3a2 2 0 1 1 4 0h4a.5.5 0 0 1 0 1h-.56l-1.2 8.84A2.5 2.5 0 0 1 9.74 15h-3.5a2.5 2.5 0 0 1-2.48-2.16L2.57 4H2a.5.5 0 0 1 0-1h4Zm1 3.5a.5.5 0 0 0-1 0v5a.5.5 0 0 0 1 0v-5ZM9.5 6c.28 0 .5.22.5.5v5a.5.5 0 0 1-1 0v-5c0-.28.22-.5.5-.5Zm-4.74 6.7c.1.75.74 1.3 1.49 1.3h3.5a1.5 1.5 0 0 0 1.5-1.3L12.42 4H3.57l1.19 8.7Z"]);function sn(e,t){return[Ut(e),So(e)]}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const kc=Vs.error,Ot=i.memo(e=>{const t=ct.c(2);let a;return t[0]!==e.children?(a=s.jsx(w,{color:"gray",size:"2",children:e.children}),t[0]=e.children,t[1]=a):a=t[1],a}),ao=globalThis.jotaiAtomCache.get("C:\\Users\\Client\\Desktop\\amll-ttml-tool-main\\src\\components\\Dialogs\\import-from-text.tsx/importModeAtom",Ze("importFromText.importMode","lyric"));ao.debugLabel="importModeAtom";ao.debugLabel="importModeAtom";const no=globalThis.jotaiAtomCache.get("C:\\Users\\Client\\Desktop\\amll-ttml-tool-main\\src\\components\\Dialogs\\import-from-text.tsx/lineSeparatorModeAtom",Ze("importFromText.lineSeparatorMode","interleaved-line"));no.debugLabel="lineSeparatorModeAtom";no.debugLabel="lineSeparatorModeAtom";const io=globalThis.jotaiAtomCache.get("C:\\Users\\Client\\Desktop\\amll-ttml-tool-main\\src\\components\\Dialogs\\import-from-text.tsx/lineSeparatorAtom",Ze("importFromText.lineSeparator","|"));io.debugLabel="lineSeparatorAtom";io.debugLabel="lineSeparatorAtom";const ro=globalThis.jotaiAtomCache.get("C:\\Users\\Client\\Desktop\\amll-ttml-tool-main\\src\\components\\Dialogs\\import-from-text.tsx/swapTransAndRomanAtom",Ze("importFromText.swapTransAndRoman",!1));ro.debugLabel="swapTransAndRomanAtom";ro.debugLabel="swapTransAndRomanAtom";const co=globalThis.jotaiAtomCache.get("C:\\Users\\Client\\Desktop\\amll-ttml-tool-main\\src\\components\\Dialogs\\import-from-text.tsx/wordSeparatorAtom",Ze("importFromText.wordSeparator","\\"));co.debugLabel="wordSeparatorAtom";co.debugLabel="wordSeparatorAtom";const mo=globalThis.jotaiAtomCache.get("C:\\Users\\Client\\Desktop\\amll-ttml-tool-main\\src\\components\\Dialogs\\import-from-text.tsx/enableSpecialPrefixAtom",Ze("importFromText.enableSpecialPrefix",!1));mo.debugLabel="enableSpecialPrefixAtom";mo.debugLabel="enableSpecialPrefixAtom";const uo=globalThis.jotaiAtomCache.get("C:\\Users\\Client\\Desktop\\amll-ttml-tool-main\\src\\components\\Dialogs\\import-from-text.tsx/bgLyricPrefixAtom",Ze("importFromText.bgLyricPrefix","<"));uo.debugLabel="bgLyricPrefixAtom";uo.debugLabel="bgLyricPrefixAtom";const ho=globalThis.jotaiAtomCache.get("C:\\Users\\Client\\Desktop\\amll-ttml-tool-main\\src\\components\\Dialogs\\import-from-text.tsx/duetLyricPrefixAtom",Ze("importFromText.duetLyricPrefix",">"));ho.debugLabel="duetLyricPrefixAtom";ho.debugLabel="duetLyricPrefixAtom";const fo=globalThis.jotaiAtomCache.get("C:\\Users\\Client\\Desktop\\amll-ttml-tool-main\\src\\components\\Dialogs\\import-from-text.tsx/enableEmptyBeatAtom",Ze("importFromText.enableEmptyBeat",!1));fo.debugLabel="enableEmptyBeatAtom";fo.debugLabel="enableEmptyBeatAtom";const go=globalThis.jotaiAtomCache.get("C:\\Users\\Client\\Desktop\\amll-ttml-tool-main\\src\\components\\Dialogs\\import-from-text.tsx/emptyBeatSymbolAtom",Ze("importFromText.emptyBeatSymbol","^"));go.debugLabel="emptyBeatSymbolAtom";go.debugLabel="emptyBeatSymbolAtom";const Ro=globalThis.jotaiAtomCache.get("C:\\Users\\Client\\Desktop\\amll-ttml-tool-main\\src\\components\\Dialogs\\import-from-text.tsx/textValueAtom",Co(""));Ro.debugLabel="textValueAtom";Ro.debugLabel="textValueAtom";const Pc=i.memo(()=>{const e=ct.c(6),[t,a]=Y(Ro);let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o={height:"calc(80vh - 5em)",flex:"1 1 auto",fontFamily:"var(--code-font-family)"},e[0]=o):o=e[0];let n;e[1]!==a?(n=c=>a(c.currentTarget.value),e[1]=a,e[2]=n):n=e[2];let r;return e[3]!==n||e[4]!==t?(r=s.jsx(Ko,{style:o,value:t,onChange:n}),e[3]=n,e[4]=t,e[5]=r):r=e[5],r}),$c=()=>{const e=ct.c(178),t=$o(Ho),a=Ut(Mn),{t:o}=Ct(),[n,r]=Y(Rn),[c,l]=Y(ao),[d,u]=Y(no),[g,p]=Y(io),[C,x]=Y(ro),[b,f]=Y(co),[y,v]=Y(mo),[h,j]=Y(uo),[R,S]=Y(ho),[O,I]=Y(fo),[P,A]=Y(go),T=Bl();let N;e[0]!==T?(N=Ae=>{const wt=T.get(ao),Ht=T.get(no),Kt=T.get(io),Gt=T.get(ro),Bt=T.get(co),Zt=T.get(mo),Wt=T.get(uo),ms=T.get(ho),us=T.get(fo),Et=T.get(go),vt=Ae.split(`
`),At=[],kt=function(Se,ut,jt){const tt=Se===void 0?"":Se,$t="",St="";let rt=tt,Mt=!1,Tt=!1;if(Zt)for(;;)if(rt.startsWith(Wt))Mt=!0,rt=rt.slice(Wt.length);else if(rt.startsWith(ms))Tt=!0,rt=rt.slice(ms.length);else break;const Ft={...En(),words:[{...Gs(),word:rt}],translatedLyric:$t,romanLyric:St,isBG:Mt,isDuet:Tt};return At.push(Ft),Ft},qt=function(){for(const Se of vt)kt(Se)},Pt=function(Se,ut){switch(Ht){case"interleaved-line":{let jt=1;Se&&jt++,ut&&jt++;for(let tt=0;tt<vt.length;tt=tt+jt,tt){const $t=vt[tt];let St=0;const rt=Se?vt[tt+ ++St]:"",Mt=ut?vt[tt+ ++St]:"",Tt=kt($t);Se&&(Tt[Se]=rt),ut&&(Tt[ut]=Mt)}return}case"same-line-separator":{for(const jt of vt){const tt=jt.split(Kt),$t=tt[0],St=Se?tt[1]:"",rt=ut?tt[2]:"",Mt=kt($t);Se&&(Mt[Se]=St),ut&&(Mt[ut]=rt)}return}}};e:switch(wt){case"lyric":{qt();break e}case"lyric-trans":{Pt("translatedLyric");break e}case"lyric-roman":{Pt("romanLyric");break e}case"lyric-trans-roman":Pt("translatedLyric","romanLyric")}if(Gt)for(const ot of At){const[Se,ut]=[ot.translatedLyric,ot.romanLyric];ot.romanLyric=Se,ot.translatedLyric=ut}if(Bt.length>0)for(const ot of At){const Se=ot.words.map(Oc).join("");ot.words=Se.split(Bt).map(Bc)}if(us&&Et.length>0)for(const ot of At)for(const Se of ot.words)for(;Se.word.endsWith(Et);)Se.word=Se.word.slice(0,-Et.length),Se.emptyBeat=Se.emptyBeat+1;T.set(Dt,{lyricLines:At,metadata:[]})},e[0]=T,e[1]=N):N=e[1];const E=N;let F;e[2]===Symbol.for("react.memo_cache_sentinel")?(F={flex:"1 1 auto"},e[2]=F):F=e[2];let k;e[3]!==o?(k=o("textImportDialog.title","导入纯文本歌词"),e[3]=o,e[4]=k):k=e[4];let B;e[5]!==k?(B=s.jsx(_t,{style:F,children:k}),e[5]=k,e[6]=B):B=e[6];let m;e[7]!==a||e[8]!==E||e[9]!==t||e[10]!==r||e[11]!==T||e[12]!==o?(m=()=>{try{const Ae=()=>{E(T.get(Ro)),r(!1)};a?t({open:!0,title:o("confirmDialog.importFile.title","确认导入歌词"),description:o("confirmDialog.importFile.description","当前文件有未保存的更改。如果继续，这些更改将会丢失。确定要导入歌词吗？"),onConfirm:()=>Ae()}):Ae()}catch(Ae){const wt=Ae;kc("导入纯文本歌词失败，请检查输入的文本是否正确，或者导入设置是否正确"),Nn(wt)}},e[7]=a,e[8]=E,e[9]=t,e[10]=r,e[11]=T,e[12]=o,e[13]=m):m=e[13];let M;e[14]!==o?(M=o("textImportDialog.actionButton","导入歌词"),e[14]=o,e[15]=M):M=e[15];let z;e[16]!==m||e[17]!==M?(z=s.jsx(Je,{onClick:m,children:M}),e[16]=m,e[17]=M,e[18]=z):z=e[18];let $;e[19]!==B||e[20]!==z?($=s.jsxs(L,{gap:"2",align:"center",mb:"2",children:[B,z]}),e[19]=B,e[20]=z,e[21]=$):$=e[21];let G,U;e[22]===Symbol.for("react.memo_cache_sentinel")?(G={initial:"column",sm:"row"},U=s.jsx(Pc,{}),e[22]=G,e[23]=U):(G=e[22],U=e[23]);let se;e[24]===Symbol.for("react.memo_cache_sentinel")?(se={whiteSpace:"nowrap",flex:"0 0 auto",alignItems:"center",alignContent:"start",textAlign:"end"},e[24]=se):se=e[24];let Z;e[25]!==o?(Z=o("textImportDialog.contentMode.caption","导入模式"),e[25]=o,e[26]=Z):Z=e[26];let X;e[27]!==Z?(X=s.jsx(Ot,{children:Z}),e[27]=Z,e[28]=X):X=e[28];let q;e[29]!==l?(q=Ae=>l(Ae),e[29]=l,e[30]=q):q=e[30];let ue;e[31]===Symbol.for("react.memo_cache_sentinel")?(ue=s.jsx(ls,{}),e[31]=ue):ue=e[31];let D;e[32]!==o?(D=o("textImportDialog.contentMode.lyric","仅歌词"),e[32]=o,e[33]=D):D=e[33];let H;e[34]!==D?(H=s.jsx(ft,{value:"lyric",children:D}),e[34]=D,e[35]=H):H=e[35];let K;e[36]!==o?(K=o("textImportDialog.contentMode.withTranslation","歌词和翻译歌词"),e[36]=o,e[37]=K):K=e[37];let W;e[38]!==K?(W=s.jsx(ft,{value:"lyric-trans",children:K}),e[38]=K,e[39]=W):W=e[39];let _;e[40]!==o?(_=o("textImportDialog.contentMode.withRoman","歌词和音译歌词"),e[40]=o,e[41]=_):_=e[41];let V;e[42]!==_?(V=s.jsx(ft,{value:"lyric-roman",children:_}),e[42]=_,e[43]=V):V=e[43];let te;e[44]!==o?(te=o("textImportDialog.contentMode.withBoth","歌词和翻译、音译歌词"),e[44]=o,e[45]=te):te=e[45];let oe;e[46]!==te?(oe=s.jsx(ft,{value:"lyric-trans-roman",children:te}),e[46]=te,e[47]=oe):oe=e[47];let le;e[48]!==H||e[49]!==W||e[50]!==V||e[51]!==oe?(le=s.jsxs(as,{children:[H,W,V,oe]}),e[48]=H,e[49]=W,e[50]=V,e[51]=oe,e[52]=le):le=e[52];let J;e[53]!==c||e[54]!==q||e[55]!==le?(J=s.jsxs(os,{value:c,onValueChange:q,children:[ue,le]}),e[53]=c,e[54]=q,e[55]=le,e[56]=J):J=e[56];let ae;e[57]!==o?(ae=o("textImportDialog.separationMode.caption","歌词分行（翻译和音译）模式"),e[57]=o,e[58]=ae):ae=e[58];let Q;e[59]!==ae?(Q=s.jsx(Ot,{children:ae}),e[59]=ae,e[60]=Q):Q=e[60];const De=c==="lyric";let ge;e[61]!==u?(ge=Ae=>u(Ae),e[61]=u,e[62]=ge):ge=e[62];let pe;e[63]===Symbol.for("react.memo_cache_sentinel")?(pe=s.jsx(ls,{}),e[63]=pe):pe=e[63];let me;e[64]!==o?(me=o("textImportDialog.separationMode.multipleLine","多行交错分隔"),e[64]=o,e[65]=me):me=e[65];let he;e[66]!==me?(he=s.jsx(ft,{value:"interleaved-line",children:me}),e[66]=me,e[67]=he):he=e[67];let xe;e[68]!==o?(xe=o("textImportDialog.separationMode.sameLine","同行分隔"),e[68]=o,e[69]=xe):xe=e[69];let ye;e[70]!==xe?(ye=s.jsx(ft,{value:"same-line-separator",children:xe}),e[70]=xe,e[71]=ye):ye=e[71];let ve;e[72]!==he||e[73]!==ye?(ve=s.jsxs(as,{children:[he,ye]}),e[72]=he,e[73]=ye,e[74]=ve):ve=e[74];let je;e[75]!==d||e[76]!==De||e[77]!==ge||e[78]!==ve?(je=s.jsxs(os,{disabled:De,value:d,onValueChange:ge,children:[pe,ve]}),e[75]=d,e[76]=De,e[77]=ge,e[78]=ve,e[79]=je):je=e[79];let $e;e[80]!==o?($e=o("textImportDialog.separator","歌词行分隔符"),e[80]=o,e[81]=$e):$e=e[81];let ze;e[82]!==$e?(ze=s.jsx(Ot,{children:$e}),e[82]=$e,e[83]=ze):ze=e[83];const Oe=c==="lyric"||d!=="same-line-separator";let ke;e[84]!==p?(ke=Ae=>p(Ae.currentTarget.value),e[84]=p,e[85]=ke):ke=e[85];let Ie;e[86]!==g||e[87]!==Oe||e[88]!==ke?(Ie=s.jsx(qe,{disabled:Oe,value:g,onChange:ke}),e[86]=g,e[87]=Oe,e[88]=ke,e[89]=Ie):Ie=e[89];let Pe;e[90]!==o?(Pe=o("textImportDialog.swapTransAndRoman","交换翻译行和音译行"),e[90]=o,e[91]=Pe):Pe=e[91];let Be;e[92]!==Pe?(Be=s.jsx(Ot,{children:Pe}),e[92]=Pe,e[93]=Be):Be=e[93];let Ve;e[94]!==x||e[95]!==C?(Ve=s.jsx(Hs,{checked:C,onCheckedChange:x}),e[94]=x,e[95]=C,e[96]=Ve):Ve=e[96];let Le;e[97]!==o?(Le=o("textImportDialog.wordSeparator","单词分隔符"),e[97]=o,e[98]=Le):Le=e[98];let _e;e[99]!==Le?(_e=s.jsx(Ot,{children:Le}),e[99]=Le,e[100]=_e):_e=e[100];let Ue;e[101]!==f?(Ue=Ae=>f(Ae.currentTarget.value),e[101]=f,e[102]=Ue):Ue=e[102];let ie;e[103]!==Ue||e[104]!==b?(ie=s.jsx(qe,{value:b,onChange:Ue}),e[103]=Ue,e[104]=b,e[105]=ie):ie=e[105];let Ce;e[106]!==o?(Ce=o("textImportDialog.enableSpecialPrefix","启用特殊前缀"),e[106]=o,e[107]=Ce):Ce=e[107];let we;e[108]!==Ce?(we=s.jsx(Ot,{children:Ce}),e[108]=Ce,e[109]=we):we=e[109];let re;e[110]!==y||e[111]!==v?(re=s.jsx(Hs,{checked:y,onCheckedChange:v}),e[110]=y,e[111]=v,e[112]=re):re=e[112];let ce;e[113]!==o?(ce=o("textImportDialog.bgLyricPrefix","背景歌词前缀"),e[113]=o,e[114]=ce):ce=e[114];let Me;e[115]!==ce?(Me=s.jsx(Ot,{children:ce}),e[115]=ce,e[116]=Me):Me=e[116];const Ke=!y;let Ye;e[117]!==j?(Ye=Ae=>j(Ae.currentTarget.value),e[117]=j,e[118]=Ye):Ye=e[118];let Xe;e[119]!==h||e[120]!==Ke||e[121]!==Ye?(Xe=s.jsx(qe,{disabled:Ke,value:h,onChange:Ye}),e[119]=h,e[120]=Ke,e[121]=Ye,e[122]=Xe):Xe=e[122];let at;e[123]!==o?(at=o("textImportDialog.duetLyricPrefix","对唱歌词前缀"),e[123]=o,e[124]=at):at=e[124];let Qe;e[125]!==at?(Qe=s.jsx(Ot,{children:at}),e[125]=at,e[126]=Qe):Qe=e[126];const dt=!y;let et;e[127]!==S?(et=Ae=>S(Ae.currentTarget.value),e[127]=S,e[128]=et):et=e[128];let nt;e[129]!==R||e[130]!==dt||e[131]!==et?(nt=s.jsx(qe,{disabled:dt,value:R,onChange:et}),e[129]=R,e[130]=dt,e[131]=et,e[132]=nt):nt=e[132];let it;e[133]!==o?(it=o("textImportDialog.enableEmptyBeat","启用空拍"),e[133]=o,e[134]=it):it=e[134];let de;e[135]!==it?(de=s.jsx(Ot,{children:it}),e[135]=it,e[136]=de):de=e[136];let ne;e[137]!==O||e[138]!==I?(ne=s.jsx(Hs,{checked:O,onCheckedChange:I}),e[137]=O,e[138]=I,e[139]=ne):ne=e[139];let be;e[140]!==o?(be=o("textImportDialog.emptyBeatSymbol","空拍符号"),e[140]=o,e[141]=be):be=e[141];let Re;e[142]!==be?(Re=s.jsx(Ot,{children:be}),e[142]=be,e[143]=Re):Re=e[143];const mt=!O;let Ge;e[144]!==A?(Ge=Ae=>A(Ae.currentTarget.value),e[144]=A,e[145]=Ge):Ge=e[145];let st;e[146]!==P||e[147]!==mt||e[148]!==Ge?(st=s.jsx(qe,{disabled:mt,value:P,onChange:Ge}),e[146]=P,e[147]=mt,e[148]=Ge,e[149]=st):st=e[149];let yt;e[150]!==X||e[151]!==J||e[152]!==Q||e[153]!==je||e[154]!==ze||e[155]!==Ie||e[156]!==Be||e[157]!==Ve||e[158]!==_e||e[159]!==ie||e[160]!==we||e[161]!==re||e[162]!==Me||e[163]!==Xe||e[164]!==Qe||e[165]!==nt||e[166]!==de||e[167]!==ne||e[168]!==Re||e[169]!==st?(yt=s.jsxs(L,{gap:"4",direction:G,children:[U,s.jsxs(Wl,{columns:"2",gapY:"2",gapX:"4",style:se,children:[X,J,Q,je,ze,Ie,Be,Ve,_e,ie,we,re,Me,Xe,Qe,nt,de,ne,Re,st]})]}),e[150]=X,e[151]=J,e[152]=Q,e[153]=je,e[154]=ze,e[155]=Ie,e[156]=Be,e[157]=Ve,e[158]=_e,e[159]=ie,e[160]=we,e[161]=re,e[162]=Me,e[163]=Xe,e[164]=Qe,e[165]=nt,e[166]=de,e[167]=ne,e[168]=Re,e[169]=st,e[170]=yt):yt=e[170];let gt;e[171]!==yt||e[172]!==$?(gt=s.jsx(Lt,{maxWidth:"100%",maxHeight:"100%",children:s.jsxs(L,{direction:"column",children:[$,yt]})}),e[171]=yt,e[172]=$,e[173]=gt):gt=e[173];let ht;return e[174]!==n||e[175]!==r||e[176]!==gt?(ht=s.jsx(It,{open:n,onOpenChange:r,children:gt}),e[174]=n,e[175]=r,e[176]=gt,e[177]=ht):ht=e[177],ht};function Oc(e){return e.word}function Bc(e){return{...Gs(),word:e}}const Wc="_metadataTable_1pw7t_1",Fc="_metadataInput_1pw7t_18",zc="_newItemBtnRow_1pw7t_22",Vc="_newItemLine_1pw7t_31",Xs={metadataTable:Wc,metadataInput:Fc,newItemBtnRow:zc,newItemLine:Vc};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const Uc=()=>{const e=ct.c(189),[t,a]=Y(kn),[o,n]=i.useState(""),[r,c]=sn(Dt),{t:l}=Ct(),d=Hc,u=Kc;let g;e[0]!==l?(g=l("metadataDialog.builtinOptions.musicName","歌曲名称"),e[0]=l,e[1]=g):g=e[1];let p;e[2]!==g?(p={label:g,value:"musicName"},e[2]=g,e[3]=p):p=e[3];let C;e[4]!==l?(C=l("metadataDialog.builtinOptions.artists","歌曲的艺术家"),e[4]=l,e[5]=C):C=e[5];let x;e[6]!==l?(x=l("metadataDialog.builtinOptions.artistsInvalidMsg","如果有多个艺术家，请多次添加该键值，避免使用分隔符"),e[6]=l,e[7]=x):x=e[7];let b;e[8]!==x?(b={verifier:Gc,message:x},e[8]=x,e[9]=b):b=e[9];let f;e[10]!==C||e[11]!==b?(f={label:C,value:"artists",validation:b},e[10]=C,e[11]=b,e[12]=f):f=e[12];let y;e[13]!==l?(y=l("metadataDialog.builtinOptions.album","歌曲的专辑名"),e[13]=l,e[14]=y):y=e[14];let v;e[15]!==y?(v={label:y,value:"album"},e[15]=y,e[16]=v):v=e[16];let h;e[17]!==l?(h=l("metadataDialog.builtinOptions.ncmMusicId","网易云音乐 ID"),e[17]=l,e[18]=h):h=e[18];let j;e[19]!==l?(j=l("metadataDialog.builtinOptions.ncmMusicIdInvalidMsg","网易云音乐 ID 应为纯数字"),e[19]=l,e[20]=j):j=e[20];let R;e[21]!==j?(R={verifier:d,message:j,severe:!0},e[21]=j,e[22]=R):R=e[22];let S;e[23]!==R||e[24]!==h?(S={label:h,value:"ncmMusicId",validation:R},e[23]=R,e[24]=h,e[25]=S):S=e[25];let O;e[26]!==l?(O=l("metadataDialog.builtinOptions.qqMusicId","QQ 音乐 ID"),e[26]=l,e[27]=O):O=e[27];let I;e[28]!==l?(I=l("metadataDialog.builtinOptions.qqMusicIdInvalidMsg","QQ 音乐 ID 应为字母或数字"),e[28]=l,e[29]=I):I=e[29];let P;e[30]!==I?(P={verifier:u,message:I,severe:!0},e[30]=I,e[31]=P):P=e[31];let A;e[32]!==O||e[33]!==P?(A={label:O,value:"qqMusicId",validation:P},e[32]=O,e[33]=P,e[34]=A):A=e[34];let T;e[35]!==l?(T=l("metadataDialog.builtinOptions.spotifyId","Spotify 音乐 ID"),e[35]=l,e[36]=T):T=e[36];let N;e[37]!==l?(N=l("metadataDialog.builtinOptions.spotifyIdInvalidMsg","Spotify ID 应为字母或数字"),e[37]=l,e[38]=N):N=e[38];let E;e[39]!==N?(E={verifier:u,message:N,severe:!0},e[39]=N,e[40]=E):E=e[40];let F;e[41]!==T||e[42]!==E?(F={label:T,value:"spotifyId",validation:E},e[41]=T,e[42]=E,e[43]=F):F=e[43];let k;e[44]!==l?(k=l("metadataDialog.builtinOptions.appleMusicId","Apple Music 音乐 ID"),e[44]=l,e[45]=k):k=e[45];let B;e[46]!==l?(B=l("metadataDialog.builtinOptions.appleMusicIdInvalidMsg","Apple Music ID 应为纯数字"),e[46]=l,e[47]=B):B=e[47];let m;e[48]!==B?(m={verifier:d,message:B,severe:!0},e[48]=B,e[49]=m):m=e[49];let M;e[50]!==k||e[51]!==m?(M={label:k,value:"appleMusicId",validation:m},e[50]=k,e[51]=m,e[52]=M):M=e[52];let z;e[53]!==l?(z=l("metadataDialog.builtinOptions.isrc","歌曲的 ISRC 号码"),e[53]=l,e[54]=z):z=e[54];let $;e[55]!==l?($=l("metadataDialog.builtinOptions.isrcInvalidMsg","ISRC 编码格式应为 CC-XXX-YY-NNNNN"),e[55]=l,e[56]=$):$=e[56];let G;e[57]!==$?(G={verifier:Zc,message:$,severe:!0},e[57]=$,e[58]=G):G=e[58];let U;e[59]!==z||e[60]!==G?(U={label:z,value:"isrc",validation:G},e[59]=z,e[60]=G,e[61]=U):U=e[61];let se;e[62]!==l?(se=l("metadataDialog.builtinOptions.ttmlAuthorGithub","逐词歌词作者 GitHub ID"),e[62]=l,e[63]=se):se=e[63];let Z;e[64]!==l?(Z=l("metadataDialog.builtinOptions.ttmlAuthorGithubInvalidMsg","GitHub ID 应为纯数字"),e[64]=l,e[65]=Z):Z=e[65];let X;e[66]!==Z?(X={verifier:d,message:Z,severe:!0},e[66]=Z,e[67]=X):X=e[67];let q;e[68]!==se||e[69]!==X?(q={label:se,value:"ttmlAuthorGithub",validation:X},e[68]=se,e[69]=X,e[70]=q):q=e[70];let ue;e[71]!==l?(ue=l("metadataDialog.builtinOptions.ttmlAuthorGithubLogin","逐词歌词作者 GitHub 用户名"),e[71]=l,e[72]=ue):ue=e[72];let D;e[73]!==l?(D=l("metadataDialog.builtinOptions.ttmlAuthorGithubLoginInvalidMsg","GitHub username should be alphanumeric or hyphens, up to 39 characters"),e[73]=l,e[74]=D):D=e[74];let H;e[75]!==D?(H={verifier:qc,message:D,severe:!0},e[75]=D,e[76]=H):H=e[76];let K;e[77]!==ue||e[78]!==H?(K={label:ue,value:"ttmlAuthorGithubLogin",validation:H},e[77]=ue,e[78]=H,e[79]=K):K=e[79];let W;e[80]!==p||e[81]!==S||e[82]!==A||e[83]!==F||e[84]!==M||e[85]!==U||e[86]!==q||e[87]!==K||e[88]!==f||e[89]!==v?(W=[p,f,v,S,A,F,M,U,q,K],e[80]=p,e[81]=S,e[82]=A,e[83]=F,e[84]=M,e[85]=U,e[86]=q,e[87]=K,e[88]=f,e[89]=v,e[90]=W):W=e[90];const _=W;let V;e[91]!==_?(V=de=>{const ne=_.find(be=>be.value===de);return ne?ne.label:de},e[91]=_,e[92]=V):V=e[92];const te=V;let oe;e[93]!==_?(oe=de=>{const ne=_.find(be=>be.value===de);return ne?.validation?ne.validation:null},e[93]=_,e[94]=oe):oe=e[94];const le=oe;let J;e[95]!==l?(J=l("metadataDialog.title","元数据编辑器"),e[95]=l,e[96]=J):J=e[96];let ae;e[97]!==J?(ae=s.jsx(_t,{children:J}),e[97]=J,e[98]=ae):ae=e[98];let Q;e[99]===Symbol.for("react.memo_cache_sentinel")?(Q={width:"1%"},e[99]=Q):Q=e[99];let De;e[100]!==l?(De=l("metadataDialog.key","元数据类型"),e[100]=l,e[101]=De):De=e[101];let ge;e[102]!==De?(ge=s.jsx("th",{style:Q,children:De}),e[102]=De,e[103]=ge):ge=e[103];let pe;e[104]!==l?(pe=l("metadataDialog.value","值"),e[104]=l,e[105]=pe):pe=e[105];let me;e[106]!==pe?(me=s.jsx("th",{children:pe}),e[106]=pe,e[107]=me):me=e[107];let he;e[108]!==ge||e[109]!==me?(he=s.jsx("thead",{children:s.jsxs("tr",{children:[ge,me]})}),e[108]=ge,e[109]=me,e[110]=he):he=e[110];let xe;e[111]!==r.metadata.length||e[112]!==l?(xe=r.metadata.length===0&&s.jsx("tr",{style:{height:"4em"},children:s.jsx("td",{colSpan:2,style:{color:"var(--gray-9)",textAlign:"center"},children:l("metadataDialog.empty","无任何元数据")})}),e[111]=r.metadata.length,e[112]=l,e[113]=xe):xe=e[113];let ye;if(e[114]!==r.metadata||e[115]!==c||e[116]!==l||e[117]!==te||e[118]!==le){let de;e[120]!==c||e[121]!==l||e[122]!==te||e[123]!==le?(de=(ne,be)=>{const Re=le(ne.key);if(Re){const mt=ne.value.some(Ge=>!Re.verifier(Ge));mt!==!!ne.error&&c(Ge=>{Ge.metadata[be].error=mt})}return s.jsxs(i.Fragment,{children:[ne.value.map((mt,Ge)=>s.jsxs("tr",{children:[s.jsx("td",{children:Ge===0&&te(ne.key)}),s.jsx("td",{children:s.jsxs(L,{gap:"1",ml:"2",mt:"1",children:[s.jsx(qe,{value:mt,className:Xs.metadataInput,onChange:st=>{const yt=st.currentTarget.value;c(gt=>{const ht=gt.metadata[be];if(ht.value[Ge]=yt,Re){const Ae=ht.value.some(wt=>!Re.verifier(wt));Ae!==!!ht.error&&(ht.error=Ae)}})},color:Re&&ne.error?Re.severe?"red":"orange":void 0}),s.jsx(ns,{variant:"soft",onClick:()=>{c(st=>{st.metadata[be].value.splice(Ge,1),st.metadata[be].value.length===0&&st.metadata.splice(be,1)})},children:s.jsx(Ec,{})})]})})]},`metadata-${ne.key}-${Ge}`)),s.jsxs("tr",{className:Xs.newItemLine,children:[s.jsx("td",{}),s.jsx("td",{className:Xs.newItemBtnRow,children:s.jsxs(L,{direction:"column",children:[Re&&ne.error&&s.jsx(w,{color:Re.severe?"red":"orange",size:"1",mb:"1",mt:"1",wrap:"wrap",children:Re.message}),s.jsx(Je,{variant:"soft",my:"1",onClick:()=>{c(mt=>{mt.metadata[be].value.push("")})},children:l("metadataDialog.addValue","添加")})]})})]})]},`metadata-${ne.key}`)},e[120]=c,e[121]=l,e[122]=te,e[123]=le,e[124]=de):de=e[124],ye=r.metadata.map(de),e[114]=r.metadata,e[115]=c,e[116]=l,e[117]=te,e[118]=le,e[119]=ye}else ye=e[119];let ve;e[125]!==xe||e[126]!==ye?(ve=s.jsxs("tbody",{children:[xe,ye]}),e[125]=xe,e[126]=ye,e[127]=ve):ve=e[127];let je;e[128]!==he||e[129]!==ve?(je=s.jsxs("table",{className:Xs.metadataTable,children:[he,ve]}),e[128]=he,e[129]=ve,e[130]=je):je=e[130];let $e;e[131]===Symbol.for("react.memo_cache_sentinel")?($e={sm:"row",initial:"column"},e[131]=$e):$e=e[131];let ze;e[132]===Symbol.for("react.memo_cache_sentinel")?(ze={flex:"1 0 auto"},e[132]=ze):ze=e[132];let Oe;e[133]!==l?(Oe=l("metadataDialog.addKeyValue","添加新键值"),e[133]=l,e[134]=Oe):Oe=e[134];let ke;e[135]===Symbol.for("react.memo_cache_sentinel")?(ke=s.jsx($l,{}),e[135]=ke):ke=e[135];let Ie;e[136]!==Oe?(Ie=s.jsx($n,{style:ze,children:s.jsxs(Je,{variant:"soft",children:[Oe,ke]})}),e[136]=Oe,e[137]=Ie):Ie=e[137];let Pe;e[138]===Symbol.for("react.memo_cache_sentinel")?(Pe={flexGrow:"1"},e[138]=Pe):Pe=e[138];let Be;e[139]!==l?(Be=l("metadataDialog.customKey","自定义键名"),e[139]=l,e[140]=Be):Be=e[140];let Ve;e[141]===Symbol.for("react.memo_cache_sentinel")?(Ve=de=>n(de.currentTarget.value),e[141]=Ve):Ve=e[141];let Le;e[142]!==o||e[143]!==Be?(Le=s.jsx(qe,{style:Pe,placeholder:Be,value:o,onChange:Ve}),e[142]=o,e[143]=Be,e[144]=Le):Le=e[144];let _e;e[145]!==o||e[146]!==c?(_e=()=>{c(de=>{const ne=de.metadata.find(be=>be.key===o);ne?ne.value.push(""):de.metadata.push({key:o,value:[""]})})},e[145]=o,e[146]=c,e[147]=_e):_e=e[147];let Ue;e[148]===Symbol.for("react.memo_cache_sentinel")?(Ue=s.jsx(Nc,{}),e[148]=Ue):Ue=e[148];let ie;e[149]!==_e?(ie=s.jsx(ns,{variant:"soft",onClick:_e,children:Ue}),e[149]=_e,e[150]=ie):ie=e[150];let Ce;e[151]!==Le||e[152]!==ie?(Ce=s.jsxs(L,{gap:"1",children:[Le,ie]}),e[151]=Le,e[152]=ie,e[153]=Ce):Ce=e[153];let we;e[154]!==_||e[155]!==c?(we=_.map(de=>s.jsx(Pn,{shortcut:de.value,onClick:()=>{c(ne=>{const be=ne.metadata.find(Re=>Re.key===de.value);be?be.value.push(""):ne.metadata.push({key:de.value,value:[""]})})},children:de.label},`builtin-option-${de.value}`)),e[154]=_,e[155]=c,e[156]=we):we=e[156];let re;e[157]!==Ce||e[158]!==we?(re=s.jsxs(On,{children:[Ce,we]}),e[157]=Ce,e[158]=we,e[159]=re):re=e[159];let ce;e[160]!==Ie||e[161]!==re?(ce=s.jsxs(Bn,{children:[Ie,re]}),e[160]=Ie,e[161]=re,e[162]=ce):ce=e[162];let Me;e[163]===Symbol.for("react.memo_cache_sentinel")?(Me={flex:"1 0 auto"},e[163]=Me):Me=e[163];let Ke;e[164]!==_||e[165]!==c?(Ke=()=>{c(de=>{for(const ne of _)de.metadata.find(Re=>Re.key===ne.value)||de.metadata.push({key:ne.value,value:[""]})})},e[164]=_,e[165]=c,e[166]=Ke):Ke=e[166];let Ye;e[167]!==l?(Ye=l("metadataDialog.addPresets","一键添加所有预设键"),e[167]=l,e[168]=Ye):Ye=e[168];let Xe;e[169]!==Ke||e[170]!==Ye?(Xe=s.jsx(Je,{style:Me,variant:"soft",onClick:Ke,children:Ye}),e[169]=Ke,e[170]=Ye,e[171]=Xe):Xe=e[171];let at;e[172]===Symbol.for("react.memo_cache_sentinel")?(at=s.jsx(Mo,{}),e[172]=at):at=e[172];let Qe;e[173]!==l?(Qe=l("metadataDialog.info","了解详情"),e[173]=l,e[174]=Qe):Qe=e[174];let dt;e[175]!==Qe?(dt=s.jsx(Je,{asChild:!0,variant:"soft",children:s.jsxs("a",{target:"_blank",rel:"noreferrer",href:"https://github.com/Steve-xmh/amll-ttml-tool/wiki/%E6%AD%8C%E8%AF%8D%E5%85%83%E6%95%B0%E6%8D%AE",children:[at,Qe]})}),e[175]=Qe,e[176]=dt):dt=e[176];let et;e[177]!==ce||e[178]!==Xe||e[179]!==dt?(et=s.jsxs(L,{gap:"1",direction:$e,children:[ce,Xe,dt]}),e[177]=ce,e[178]=Xe,e[179]=dt,e[180]=et):et=e[180];let nt;e[181]!==ae||e[182]!==je||e[183]!==et?(nt=s.jsxs(Lt,{children:[ae,je,et]}),e[181]=ae,e[182]=je,e[183]=et,e[184]=nt):nt=e[184];let it;return e[185]!==t||e[186]!==a||e[187]!==nt?(it=s.jsx(It,{open:t,onOpenChange:a,children:nt}),e[185]=t,e[186]=a,e[187]=nt,e[188]=it):it=e[188],it};function Hc(e){return/^\d+$/.test(e)}function Kc(e){return/^[a-zA-Z0-9]+$/.test(e)}function Gc(e){return!/^.+[,;&，；、].+$/.test(e)}function Zc(e){return/^[A-Z]{2}-?[A-Z0-9]{3}-?\d{2}-?\d{5}$/.test(e)}function qc(e){return/^(?!.*--)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,37}[a-zA-Z0-9])?$/.test(e)}const Jc="2025-12-06T15:47:46.770Z";globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const Yc=()=>{const e=ct.c(21),{t}=Ct();let a;e[0]!==t?(a=t("aboutModal.appName","Apple Music-like lyrics TTML Tools"),e[0]=t,e[1]=a):a=e[1];let o;e[2]!==a?(o=s.jsx(w,{as:"div",children:a}),e[2]=a,e[3]=o):o=e[3];let n;e[4]!==t?(n=t("aboutModal.description","一个用于 Apple Music-like lyrics 生态的逐词歌词 TTML 编辑和时间轴工具"),e[4]=t,e[5]=n):n=e[5];let r;e[6]!==n?(r=s.jsx(w,{as:"div",size:"2",mb:"4",children:n}),e[6]=n,e[7]=r):r=e[7];let c;e[8]!==t?(c=t("aboutModal.buildDate","构建日期：{date}",{date:Jc}),e[8]=t,e[9]=c):c=e[9];let l;e[10]!==c?(l=s.jsx(w,{as:"div",size:"2",color:"gray",children:c}),e[10]=c,e[11]=l):l=e[11];let d;e[12]!==t?(d=t("aboutModal.gitCommit","Git 提交：{commit}",{commit:t("aboutModal.unknown","unknown")}),e[12]=t,e[13]=d):d=e[13];let u;e[14]!==d?(u=s.jsx(w,{as:"div",size:"2",color:"gray",children:d}),e[14]=d,e[15]=u):u=e[15];let g;return e[16]!==o||e[17]!==r||e[18]!==l||e[19]!==u?(g=s.jsxs(s.Fragment,{children:[o,r,l,u]}),e[16]=o,e[17]=r,e[18]=l,e[19]=u,e[20]=g):g=e[20],g};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const Xc=Object.keys(Kn),Qc=()=>{const[e,t]=Y(Wn),[a,o]=Y(Fl),[n,r]=Y(Fn),[c,l]=Y(zn),[d,u]=Y(Vn),[g,p]=Y(Un),[C,x]=Y(Hn),{t:b,i18n:f}=Ct(),y=f.resolvedLanguage||f.language,v=(h,j)=>{try{const R=Intl.DisplayNames;if(R){const S=new R([j],{type:"language"}),O=new R([h],{type:"language"}),I=S.of(h),P=O.of(h)||h;return I&&h!==j?`${P} (${I})`:P}}catch{}return h};return s.jsxs(s.Fragment,{children:[s.jsx(w,{as:"label",children:s.jsxs(L,{direction:"column",gap:"2",align:"start",children:[s.jsx(w,{children:b("settings.common.language","界面语言")}),s.jsx(w,{size:"1",color:"gray",children:b("settings.common.languageDesc","选择界面显示的语言")}),s.jsxs(os,{value:y,onValueChange:h=>{f.changeLanguage(h).then(()=>{localStorage.setItem("language",h)})},children:[s.jsx(ls,{}),s.jsx(as,{children:Xc.map(h=>s.jsx(ft,{value:h,children:v(h,y)},h))})]})]})}),s.jsx(w,{as:"label",children:s.jsxs(L,{direction:"column",gap:"2",my:"3",align:"start",children:[s.jsx(w,{children:b("settings.common.layoutMode","编辑布局模式")}),s.jsxs(w,{size:"1",color:"gray",children:[b("settings.common.layoutModeDesc.line1","简单布局能够满足大部分使用者的基本需求"),s.jsx("br",{}),b("settings.common.layoutModeDesc.line2","如果你需要更加高效的打轴的话，可以考虑切换到高级模式")]}),s.jsxs(os,{value:e,onValueChange:h=>t(h),children:[s.jsx(ls,{}),s.jsxs(as,{children:[s.jsx(ft,{value:gl.Simple,children:b("settings.common.layoutModeOptions.simple","简单模式")}),s.jsx(ft,{value:gl.Advance,children:b("settings.common.layoutModeOptions.advance","高级模式")})]})]})]})}),s.jsx(w,{as:"label",children:s.jsxs(L,{direction:"column",gap:"2",my:"3",align:"start",children:[s.jsx(w,{children:b("settings.common.syncJudgeMode","打轴时间戳判定模式")}),s.jsx(w,{size:"1",color:"gray",children:b("settings.common.syncJudgeModeDesc",'设置打轴时间戳的判定模式，默认为"首个按键按下时间"。')}),s.jsxs(os,{value:a,onValueChange:h=>o(h),children:[s.jsx(ls,{}),s.jsxs(as,{children:[s.jsx(ft,{value:ts.FirstKeyDownTime,children:b("settings.common.syncJudgeModeOptions.firstKeyDown","首个按键按下时间")}),s.jsx(ft,{value:ts.LastKeyUpTime,children:b("settings.common.syncJudgeModeOptions.lastKeyUp","最后一个按键抬起时间")}),s.jsx(ft,{value:ts.MiddleKeyTime,children:b("settings.common.syncJudgeModeOptions.middleKey","取按键按下和抬起的中间值")}),s.jsx(ft,{value:ts.FirstKeyDownTimeLegacy,children:b("settings.common.syncJudgeModeOptions.firstKeyDownLegacy","首个按键按下时间（旧版）")})]})]})]})}),s.jsxs(L,{direction:"column",gap:"2",my:"3",align:"start",children:[s.jsxs(L,{align:"center",justify:"between",style:{alignSelf:"stretch"},children:[s.jsx(w,{children:b("settings.common.volume","音乐音量")}),s.jsxs(w,{wrap:"nowrap",color:"gray",size:"1",children:[(n*100).toFixed(),"%"]})]}),s.jsx(ko,{min:0,max:1,defaultValue:[n],step:.01,onValueChange:h=>r(h[0])})]}),s.jsxs(L,{direction:"column",gap:"2",my:"3",align:"start",children:[s.jsxs(L,{align:"center",justify:"between",style:{alignSelf:"stretch"},children:[s.jsx(w,{wrap:"nowrap",children:b("settings.common.playbackRate","播放速度")}),s.jsxs(w,{wrap:"nowrap",color:"gray",size:"1",children:[c.toFixed(2),"x"]})]}),s.jsx(ko,{min:.05,max:2,defaultValue:[c],step:.05,onValueChange:h=>l(h[0])})]}),s.jsx(L,{asChild:!0,p:"2",mt:"2",style:{border:"1px solid var(--gray-a5)",borderRadius:"var(--radius-3)"},children:s.jsx("section",{children:s.jsxs(L,{direction:"column",gap:"3",children:[s.jsx(w,{as:"label",children:s.jsxs(L,{gap:"2",align:"center",justify:"between",children:[s.jsx(w,{children:b("settings.common.autosave.enable","启用自动保存")}),s.jsx(Hs,{checked:d,onCheckedChange:u})]})}),s.jsx(w,{as:"label",children:s.jsxs(L,{direction:"column",gap:"2",align:"start",children:[s.jsx(w,{children:b("settings.common.autosave.interval","保存间隔 (分钟)")}),s.jsx(qe,{type:"number",disabled:!d,value:g,onChange:h=>p(Math.max(1,Number.parseInt(h.target.value)||1))})]})}),s.jsxs(L,{direction:"column",gap:"2",align:"start",children:[s.jsxs(L,{align:"center",justify:"between",style:{alignSelf:"stretch"},children:[s.jsx(w,{children:b("settings.common.autosave.limit","保留快照数量")}),s.jsx(w,{wrap:"nowrap",color:"gray",size:"1",children:C})]}),s.jsx(ko,{min:1,max:50,disabled:!d,value:[C],step:1,onValueChange:h=>x(h[0])})]})]})})})]})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const fe=(e,t)=>({atom:e,label:t}),ed=({entry:e})=>{const[t,a]=Y(e.atom),[o,n]=i.useState(!1);return s.jsxs(s.Fragment,{children:[s.jsx(Xt,{children:e.label}),s.jsx(Xt,{children:s.jsx(qe,{onClick:async()=>{try{n(!0);const r=await Ti();a(r)}catch{}finally{n(!1)}},size:"1",value:o?"请按下按键...":Ai(t),readOnly:!0})})]})},td=()=>{const e=ct.c(102),{t}=Ct();let a;e[0]!==t?(a=fe(Gn,t("settingsDialog.keybindings.newFile","新建文件")),e[0]=t,e[1]=a):a=e[1];let o;e[2]!==t?(o=fe(Zn,t("settingsDialog.keybindings.openFile","打开文件")),e[2]=t,e[3]=o):o=e[3];let n;e[4]!==t?(n=fe(qn,t("settingsDialog.keybindings.saveFile","保存文件")),e[4]=t,e[5]=n):n=e[5];let r;e[6]!==t?(r=fe(Jn,t("settingsDialog.keybindings.openAudio","打开音频文件")),e[6]=t,e[7]=r):r=e[7];let c;e[8]!==t?(c=fe(Yn,t("settingsDialog.keybindings.undo","撤销")),e[8]=t,e[9]=c):c=e[9];let l;e[10]!==t?(l=fe(Xn,t("settingsDialog.keybindings.redo","重做")),e[10]=t,e[11]=l):l=e[11];let d;e[12]!==t?(d=fe(Qn,t("settingsDialog.keybindings.selectAll","全选")),e[12]=t,e[13]=d):d=e[13];let u;e[14]!==t?(u=fe(ei,t("settingsDialog.keybindings.selectInverted","反选")),e[14]=t,e[15]=u):u=e[15];let g;e[16]!==t?(g=fe(ti,t("settingsDialog.keybindings.selectWordsOfMatchedSelection","选中同类单词")),e[16]=t,e[17]=g):g=e[17];let p;e[18]!==t?(p=fe(si,t("settingsDialog.keybindings.deleteSelection","删除所选")),e[18]=t,e[19]=p):p=e[19];let C;e[20]!==t?(C=fe(oi,t("settingsDialog.keybindings.switchEditMode","模式切换 - 切换到编辑模式")),e[20]=t,e[21]=C):C=e[21];let x;e[22]!==t?(x=fe(li,t("settingsDialog.keybindings.switchSyncMode","模式切换 - 切换到打轴模式")),e[22]=t,e[23]=x):x=e[23];let b;e[24]!==t?(b=fe(ai,t("settingsDialog.keybindings.switchPreviewMode","模式切换 - 切换到预览模式")),e[24]=t,e[25]=b):b=e[25];let f;e[26]!==t?(f=fe(ni,t("settingsDialog.keybindings.moveNextWord","打轴 - 移动到下一个单词")),e[26]=t,e[27]=f):f=e[27];let y;e[28]!==t?(y=fe(ii,t("settingsDialog.keybindings.movePrevWord","打轴 - 移动到上一个单词")),e[28]=t,e[29]=y):y=e[29];let v;e[30]!==t?(v=fe(ri,t("settingsDialog.keybindings.moveNextWordAndPlay","打轴 - 移动到下一个单词并播放")),e[30]=t,e[31]=v):v=e[31];let h;e[32]!==t?(h=fe(ci,t("settingsDialog.keybindings.movePrevWordAndPlay","打轴 - 移动到上一个单词并播放")),e[32]=t,e[33]=h):h=e[33];let j;e[34]!==t?(j=fe(di,t("settingsDialog.keybindings.moveNextLine","打轴 - 移动到下一行开头")),e[34]=t,e[35]=j):j=e[35];let R;e[36]!==t?(R=fe(mi,t("settingsDialog.keybindings.movePrevLine","打轴 - 移动到上一行开头")),e[36]=t,e[37]=R):R=e[37];let S;e[38]!==t?(S=fe(ui,t("settingsDialog.keybindings.syncStart","打轴 - 初始打轴")),e[38]=t,e[39]=S):S=e[39];let O;e[40]!==t?(O=fe(zl,t("settingsDialog.keybindings.syncNext","打轴 - 步进打轴")),e[40]=t,e[41]=O):O=e[41];let I;e[42]!==t?(I=fe(hi,t("settingsDialog.keybindings.syncEnd","打轴 - 间奏打轴")),e[42]=t,e[43]=I):I=e[43];let P;e[44]!==t?(P=fe(fi,t("settingsDialog.keybindings.playPause","播放 - 暂停/继续播放")),e[44]=t,e[45]=P):P=e[45];let A;e[46]!==t?(A=fe(gi,t("settingsDialog.keybindings.seekForward","播放 - 快进 5 秒")),e[46]=t,e[47]=A):A=e[47];let T;e[48]!==t?(T=fe(pi,t("settingsDialog.keybindings.seekBackward","播放 - 快退 5 秒")),e[48]=t,e[49]=T):T=e[49];let N;e[50]!==t?(N=fe(xi,t("settingsDialog.keybindings.volumeUp","播放 - 调高音量")),e[50]=t,e[51]=N):N=e[51];let E;e[52]!==t?(E=fe(bi,t("settingsDialog.keybindings.volumeDown","播放 - 调低音量")),e[52]=t,e[53]=E):E=e[53];let F;e[54]!==t?(F=fe(yi,t("settingsDialog.keybindings.playbackRateUp","播放 - 增加播放速度")),e[54]=t,e[55]=F):F=e[55];let k;e[56]!==t?(k=fe(vi,t("settingsDialog.keybindings.playbackRateDown","播放 - 降低播放速度")),e[56]=t,e[57]=k):k=e[57];let B;e[58]!==t?(B=fe(ji,t("settingsDialog.keybindings.playbackRateReset","播放 - 重置播放速度")),e[58]=t,e[59]=B):B=e[59];let m;e[60]!==t?(m=fe(Si,t("settingsDialog.keybindings.auditionSelectionBefore","频谱图 - 试听选中音节前 500 毫秒")),e[60]=t,e[61]=m):m=e[61];let M;e[62]!==t?(M=fe(Ci,t("settingsDialog.keybindings.auditionSelection","频谱图 - 试听选中音节")),e[62]=t,e[63]=M):M=e[63];let z;e[64]!==t?(z=fe(wi,t("settingsDialog.keybindings.auditionSelectionAfter","频谱图 - 试听选中音节后 500 毫秒")),e[64]=t,e[65]=z):z=e[65];let $;e[66]!==a||e[67]!==o||e[68]!==C||e[69]!==x||e[70]!==b||e[71]!==f||e[72]!==y||e[73]!==v||e[74]!==h||e[75]!==j||e[76]!==R||e[77]!==S||e[78]!==n||e[79]!==O||e[80]!==I||e[81]!==P||e[82]!==A||e[83]!==T||e[84]!==N||e[85]!==E||e[86]!==F||e[87]!==k||e[88]!==B||e[89]!==r||e[90]!==m||e[91]!==M||e[92]!==z||e[93]!==c||e[94]!==l||e[95]!==d||e[96]!==u||e[97]!==g||e[98]!==p?($=[a,o,n,r,c,l,d,u,g,p,C,x,b,f,y,v,h,j,R,S,O,I,P,A,T,N,E,F,k,B,m,M,z],e[66]=a,e[67]=o,e[68]=C,e[69]=x,e[70]=b,e[71]=f,e[72]=y,e[73]=v,e[74]=h,e[75]=j,e[76]=R,e[77]=S,e[78]=n,e[79]=O,e[80]=I,e[81]=P,e[82]=A,e[83]=T,e[84]=N,e[85]=E,e[86]=F,e[87]=k,e[88]=B,e[89]=r,e[90]=m,e[91]=M,e[92]=z,e[93]=c,e[94]=l,e[95]=d,e[96]=u,e[97]=g,e[98]=p,e[99]=$):$=e[99];const G=$;let U;return e[100]!==G?(U=s.jsx(Wl,{columns:"2",gapY:"2",children:G.map(sd)}),e[100]=G,e[101]=U):U=e[101],U};function sd(e){return s.jsx(ed,{entry:e},e.label)}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const od=()=>{const e=ct.c(51),{t}=Ct(),[a,o]=Y(Di),[n,r]=Y(Ii),[c,l]=i.useState(n);let d,u;e[0]!==n?(d=()=>{l(n)},u=[n],e[0]=n,e[1]=d,e[2]=u):(d=e[1],u=e[2]),i.useEffect(d,u);let g;e[3]!==c?(g=c.map(ld).join(", "),e[3]=c,e[4]=g):g=e[4];const C=`linear-gradient(to right, ${g})`;let x;e[5]!==c?(x=($,G)=>{l(c.map((U,se)=>se===$?{...U,color:G}:U))},e[5]=c,e[6]=x):x=e[6];const b=x;let f;e[7]!==c?(f=($,G)=>{const U=Number.isNaN(G)?0:Math.max(0,Math.min(1,G));l(c.map((se,Z)=>Z===$?{...se,pos:U}:se))},e[7]=c,e[8]=f):f=e[8];const y=f;let v;e[9]!==c||e[10]!==r?(v=()=>{const $=[...c].sort(ad);r($),l($)},e[9]=c,e[10]=r,e[11]=v):v=e[11];const h=v;let j;e[12]!==n||e[13]!==r?(j=$=>{r(n.filter((G,U)=>U!==$))},e[12]=n,e[13]=r,e[14]=j):j=e[14];const R=j;let S;e[15]!==n||e[16]!==r?(S=()=>{r([...n,{id:crypto.randomUUID(),pos:1,color:"#ffffff"}].sort(nd))},e[15]=n,e[16]=r,e[17]=S):S=e[17];const O=S;let I;e[18]!==t?(I=t("settings.spectrogram.palette","配色方案"),e[18]=t,e[19]=I):I=e[19];let P;e[20]!==I?(P=s.jsx(w,{children:I}),e[20]=I,e[21]=P):P=e[21];let A;e[22]!==o?(A=$=>o($),e[22]=o,e[23]=A):A=e[23];let T;e[24]===Symbol.for("react.memo_cache_sentinel")?(T=s.jsx(ls,{}),e[24]=T):T=e[24];let N,E;e[25]===Symbol.for("react.memo_cache_sentinel")?(N=Li.map(id),E=s.jsx(qa,{}),e[25]=N,e[26]=E):(N=e[25],E=e[26]);let F;e[27]!==t?(F=t("settings.spectrogram.paletteCustom","自定义"),e[27]=t,e[28]=F):F=e[28];let k;e[29]!==F?(k=s.jsxs(as,{children:[N,E,s.jsx(ft,{value:"custom",children:F})]}),e[29]=F,e[30]=k):k=e[30];let B;e[31]!==a||e[32]!==A||e[33]!==k?(B=s.jsxs(os,{value:a,onValueChange:A,children:[T,k]}),e[31]=a,e[32]=A,e[33]=k,e[34]=B):B=e[34];let m;e[35]!==B||e[36]!==P?(m=s.jsx(w,{as:"label",children:s.jsxs(L,{direction:"column",gap:"2",align:"start",children:[P,B]})}),e[35]=B,e[36]=P,e[37]=m):m=e[37];let M;e[38]!==h||e[39]!==C||e[40]!==O||e[41]!==R||e[42]!==b||e[43]!==y||e[44]!==c||e[45]!==a||e[46]!==t?(M=a==="custom"&&s.jsx(L,{asChild:!0,p:"2",style:{border:"1px solid var(--gray-a5)",borderRadius:"var(--radius-3)"},children:s.jsx("section",{children:s.jsxs(L,{direction:"column",gap:"3",width:"100%",children:[s.jsx(w,{size:"1",color:"gray",children:t("settings.spectrogram.gradientEditorDesc","Pos 0.0 对应最安静的部分，1.0 对应最响亮的部分。建议 Pos 越大，使用亮度越高的颜色。")}),s.jsx("div",{style:{width:"100%",height:"24px",backgroundImage:C,border:"1px solid var(--gray-a6)",borderRadius:"var(--radius-2)"}}),c.map(($,G)=>s.jsxs(L,{align:"center",gap:"2",children:[s.jsx("input",{type:"color",value:$.color,onChange:U=>b(G,U.target.value),onBlur:h,style:{border:"none",padding:0,background:"none",width:"28px",height:"28px"}}),s.jsx(qe,{type:"number",min:0,max:1,step:.01,value:$.pos,onChange:U=>y(G,U.target.value===""?NaN:Number.parseFloat(U.target.value)),onBlur:h,style:{maxWidth:"80px"}}),s.jsxs(w,{size:"1",children:["Pos: ",$.pos.toFixed(2)]}),s.jsx(Je,{variant:"soft",color:"red",disabled:c.length<=1,onClick:()=>R(G),style:{marginLeft:"auto"},children:t("common.remove","移除")})]},$.id)),s.jsx(Je,{variant:"outline",onClick:O,children:t("settings.spectrogram.addStop","添加色标")})]})})}),e[38]=h,e[39]=C,e[40]=O,e[41]=R,e[42]=b,e[43]=y,e[44]=c,e[45]=a,e[46]=t,e[47]=M):M=e[47];let z;return e[48]!==m||e[49]!==M?(z=s.jsxs(L,{direction:"column",gap:"4",children:[m,M]}),e[48]=m,e[49]=M,e[50]=z):z=e[50],z};function ld(e){return`${e.color} ${e.pos*100}%`}function ad(e,t){return e.pos-t.pos}function nd(e,t){return e.pos-t.pos}function id(e){return s.jsx(ft,{value:e.id,children:e.name},e.id)}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const rd=i.memo(()=>{const e=ct.c(38),[t,a]=Y(_i),{t:o}=Ct();let n;e[0]!==o?(n=o("settingsDialog.title","首选项"),e[0]=o,e[1]=n):n=e[1];let r;e[2]!==n?(r=s.jsx(_t,{children:n}),e[2]=n,e[3]=r):r=e[3];let c;e[4]!==o?(c=o("settingsDialog.tab.common","常规"),e[4]=o,e[5]=c):c=e[5];let l;e[6]!==c?(l=s.jsx(Fs,{value:"common",children:c}),e[6]=c,e[7]=l):l=e[7];let d;e[8]!==o?(d=o("settingsDialog.tab.keybindings","按键绑定"),e[8]=o,e[9]=d):d=e[9];let u;e[10]!==d?(u=s.jsx(Fs,{value:"keybinding",children:d}),e[10]=d,e[11]=u):u=e[11];let g;e[12]!==o?(g=o("settingsDialog.tab.spectrogram","频谱图"),e[12]=o,e[13]=g):g=e[13];let p;e[14]!==g?(p=s.jsx(Fs,{value:"spectrogram",children:g}),e[14]=g,e[15]=p):p=e[15];let C;e[16]!==o?(C=o("common.about","关于"),e[16]=o,e[17]=C):C=e[17];let x;e[18]!==C?(x=s.jsx(Fs,{value:"about",children:C}),e[18]=C,e[19]=x):x=e[19];let b;e[20]!==l||e[21]!==u||e[22]!==p||e[23]!==x?(b=s.jsxs(tn,{children:[l,u,p,x]}),e[20]=l,e[21]=u,e[22]=p,e[23]=x,e[24]=b):b=e[24];let f;e[25]===Symbol.for("react.memo_cache_sentinel")?(f=s.jsx(zs,{value:"common",children:s.jsx(Qc,{})}),e[25]=f):f=e[25];let y;e[26]===Symbol.for("react.memo_cache_sentinel")?(y=s.jsx(zs,{value:"keybinding",children:s.jsx(td,{})}),e[26]=y):y=e[26];let v;e[27]===Symbol.for("react.memo_cache_sentinel")?(v=s.jsx(zs,{value:"spectrogram",children:s.jsx(od,{})}),e[27]=v):v=e[27];let h;e[28]===Symbol.for("react.memo_cache_sentinel")?(h=s.jsxs(Xt,{pt:"3",children:[f,y,v,s.jsx(zs,{value:"about",children:s.jsx(Yc,{})})]}),e[28]=h):h=e[28];let j;e[29]!==b?(j=s.jsxs(en,{children:[b,h]}),e[29]=b,e[30]=j):j=e[30];let R;e[31]!==r||e[32]!==j?(R=s.jsxs(Lt,{children:[r,j]}),e[31]=r,e[32]=j,e[33]=R):R=e[33];let S;return e[34]!==a||e[35]!==t||e[36]!==R?(S=s.jsx(It,{open:t,onOpenChange:a,children:R}),e[34]=a,e[35]=t,e[36]=R,e[37]=S):S=e[37],S});globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const tl=globalThis.jotaiAtomCache.get("C:\\Users\\Client\\Desktop\\amll-ttml-tool-main\\src\\components\\Dialogs\\submit-to-amll-db.tsx/uploadDbTypeAtom",Ze("uploadDbType","official"));tl.debugLabel="uploadDbTypeAtom";tl.debugLabel="uploadDbTypeAtom";const No=globalThis.jotaiAtomCache.get("C:\\Users\\Client\\Desktop\\amll-ttml-tool-main\\src\\components\\Dialogs\\submit-to-amll-db.tsx/metadataAtom",Co(e=>e(Dt).metadata));No.debugLabel="metadataAtom";No.debugLabel="metadataAtom";const sl=globalThis.jotaiAtomCache.get("C:\\Users\\Client\\Desktop\\amll-ttml-tool-main\\src\\components\\Dialogs\\submit-to-amll-db.tsx/issuesAtom",Co(e=>{const t=[],a=e(No);a.findIndex(n=>n.key==="musicName"&&n.value.length>0)===-1&&t.push("元数据缺少音乐名称"),a.findIndex(n=>n.key==="artists"&&n.value.length>0)===-1&&t.push("元数据缺少音乐作者"),a.findIndex(n=>n.key==="album"&&n.value.length>0)===-1&&t.push("元数据缺少音乐专辑名称");const o=new Set(["ncmMusicId","qqMusicId","spotifyId","appleMusicId"]);return a.findIndex(n=>o.has(n.key)&&n.value.length>0)===-1&&t.push("元数据缺少音乐平台对应歌曲 ID"),t}));sl.debugLabel="issuesAtom";sl.debugLabel="issuesAtom";const cd=(e,t)=>{const a=[];return e.find(l=>l.key==="musicName")?.value?.length||a.push(t("submitToAMLLDB.validation.missingMusicName","元数据缺少音乐名称")),e.find(l=>l.key==="artists")?.value?.length||a.push(t("submitToAMLLDB.validation.missingArtists","元数据缺少音乐作者")),e.find(l=>l.key==="album")?.value?.length||a.push(t("submitToAMLLDB.validation.missingAlbum","元数据缺少音乐专辑名称")),[e.find(l=>l.key==="ncmMusicId"),e.find(l=>l.key==="qqMusicId"),e.find(l=>l.key==="spotifyId"),e.find(l=>l.key==="appleMusicId"),e.find(l=>l.key==="isrc")].some(l=>l?.value?.length)||a.push(t("submitToAMLLDB.validation.missingMusicId","元数据缺少音乐平台对应歌曲 ID")),a},dd=i.memo(()=>{const{t:e}=Ct(),[t,a]=Y(tl),[o,n]=Y(Mi),[r,c]=Y(Ri),[l,d]=Y(Ni),u=Ut(No),g=Ut(sl),[p,C]=i.useState(""),[x,b]=i.useState(""),[f,y]=i.useState(!1),[v,h]=i.useState(e("submitToAMLLDB.defaultReason","新歌词提交")),j=Bl(),R=i.useCallback(async()=>{if(!f){y(!0);try{const S=cd(u,e);if(S.length>0){Vs.error(e("submitToAMLLDB.errors.validation",`提交验证失败：
{errors}`,{errors:S.join(`
`)}));return}if(j.get(Dt).lyricLines.length===0){Vs.error(e("submitToAMLLDB.errors.noLyrics","歌词还什么都没有呢？"));return}const O=Ei(j.get(Dt)),I=new Blob([O],{type:"text/xml"}),P=new FormData;P.append("file",I,"lyrics.ttml");const A=await fetch("https://amll-ttml-db.stevexmh.com/api/upload",{method:"POST",body:P});if(!A.ok)throw new Error(e("submitToAMLLDB.errors.uploadFailed","发送上传歌词文件请求失败：{status} {statusText}",{status:A.status,statusText:A.statusText}));const T=await A.json(),N=new URL("https://github.com/Steve-xmh/amll-ttml-lyrics/issues/new");N.searchParams.append("labels",e("submitToAMLLDB.labels.submit","歌词提交/补正")),N.searchParams.append("title",e("submitToAMLLDB.issueTitle","[歌词提交/修正] {name}",{name:p})),N.searchParams.append("body",`${v}

${x}

<!-- AMLL TTML DB File ID: ${T.id} -->`),open(N.toString()),n(!1)}catch(S){console.error(S),Vs.error(e("submitToAMLLDB.errors.submitFailed","提交发生错误，请查看控制台确认原因！"))}y(!1)}},[j,p,v,x,n,e]);return i.useLayoutEffect(()=>{if(l){const S=u.find(I=>I.key==="musicName")?.value?.join(", ")??e("submitToAMLLDB.unknownTitle","未知曲名"),O=u.find(I=>I.key==="artists")?.value?.join(", ")??e("submitToAMLLDB.unknownArtist","未知歌手");C(`${O} - ${S}`)}},[l,u,e]),s.jsx(It,{open:o,onOpenChange:n,children:s.jsxs(Lt,{"aria-description":e("submitToAMLLDB.description","提交歌词到 AMLL 歌词数据库"),children:[s.jsx(_t,{children:e("submitToAMLLDB.title","提交歌词到 AMLL 歌词数据库（仅简体中文用户）")}),s.jsxs(L,{direction:"column",gap:"4",children:[!r&&s.jsxs(s.Fragment,{children:[s.jsxs(zt,{color:"orange",children:[s.jsx(Ps,{children:s.jsx(bl,{})}),s.jsx(Vt,{children:e("submitToAMLLDB.chineseOnlyWarning","本功能仅使用 AMLL 歌词数据库的简体中文用户可用，如果您是为了在其他软件上使用歌词而编辑歌词的话，请参考对应的软件提交歌词的方式来提交歌词哦！")})]}),s.jsxs(zt,{color:"blue",children:[s.jsx(Ps,{children:s.jsx(Mo,{})}),s.jsx(Vt,{children:s.jsxs("p",{children:[e("submitToAMLLDB.thankYou","首先，感谢您的慷慨歌词贡献！"),s.jsx("br",{}),e("submitToAMLLDB.cc0Agreement","通过提交，你将默认同意")," ",s.jsx(w,{weight:"bold",color:"orange",children:e("submitToAMLLDB.cc0Rights","使用 CC0 共享协议完全放弃歌词所有权")}),e("submitToAMLLDB.andSubmit","并提交到歌词数据库！"),s.jsx("br",{}),e("submitToAMLLDB.futureUse","并且歌词将会在以后被 AMLL 系程序作为默认 TTML 歌词源获取！"),s.jsx("br",{}),e("submitToAMLLDB.rightsWarning","如果您对歌词所有权比较看重的话，请勿提交歌词哦！"),s.jsx("br",{}),e("submitToAMLLDB.submitInstructions","请输入以下提交信息然后跳转到 Github 议题提交页面！")]})})]}),s.jsx(Je,{variant:"soft",size:"1",onClick:()=>c(!0),children:e("submitToAMLLDB.closeWarning","关闭上述警告信息")})]}),s.jsxs(L,{justify:"between",gap:"4",align:"center",children:[s.jsx(Xt,{flexShrink:"0",children:s.jsx(w,{as:"label",size:"2",children:s.jsxs(L,{direction:"column",gap:"2",children:["歌词库类型",s.jsxs($s,{value:t,onValueChange:S=>a(S),children:[s.jsx(pt,{value:"official",children:"官方歌词库"}),s.jsx(pt,{value:"user",children:"用户歌词库"}),s.jsx(pt,{value:"both",children:"全部歌词库"})]})]})})}),s.jsxs(L,{direction:"column",children:[t==="official"&&s.jsx(zt,{color:"grass",children:s.jsxs(Vt,{size:"1",children:["提交到官方歌词库，需要进行人工审核，确保歌词满足基本要求以及时间轴和效果后方可加入词库。",s.jsx("br",{}),"此举可以把关你的歌词质量，让你的歌词能以足够好的演出效果呈现，推荐提交到此处。"]})}),t==="user"&&s.jsx(zt,{color:"orange",children:s.jsxs(Vt,{size:"1",children:["提交到用户歌词库，仅需通过机器人审核没有严重问题后即可加入词库，无需人工审核。",s.jsx("br",{}),"但是如果出现歌词内容以及呈现效果的问题则只能通过重新提交覆盖，无法进行人工核对保证质量。"]})}),t==="both"&&s.jsx(zt,{color:"orange",children:s.jsxs(Vt,{size:"1",children:["两个都要也不坏，知晓情况即可",s.jsx("br",{}),"上传后将会分别打开每个仓库对应的提交页面，请手动分别按下创建议题即可提交。"]})})]})]}),s.jsx(w,{as:"label",size:"2",children:s.jsxs(L,{gap:"2",children:[s.jsx(Us,{checked:l,onCheckedChange:S=>d(!!S)}),"从元数据中生成"]})}),s.jsx(w,{as:"label",size:"2",children:s.jsxs(L,{direction:"column",gap:"2",children:["音乐名称",s.jsx(qe,{value:p,disabled:l,onChange:S=>C(S.currentTarget.value)}),"推荐使用 歌手 - 歌曲 格式，方便仓库管理员确认你的歌曲是否存在"]})}),s.jsx(w,{as:"label",size:"2",children:s.jsxs(L,{direction:"column",gap:"2",children:["提交缘由",s.jsxs($s,{value:v,onValueChange:h,children:[s.jsx(pt,{value:"新歌词提交",children:"新歌词提交"}),s.jsx(pt,{value:"修正已有歌词",children:"修正已有歌词"})]})]})}),s.jsx(w,{as:"label",size:"2",children:s.jsxs(L,{direction:"column",gap:"2",children:["备注",s.jsx(Ko,{resize:"vertical",placeholder:"有什么需要补充说明的呢？",value:x,onChange:S=>b(S.currentTarget.value)})]})}),g.length>0&&s.jsxs(zt,{color:"red",children:[s.jsx(Ps,{children:s.jsx(bl,{})}),s.jsxs(Vt,{children:["发现以下问题，请修正后再提交：",s.jsx("ul",{children:g.map(S=>s.jsx("li",{children:S},S))})]})]}),s.jsx(Je,{loading:f,disabled:g.length>0,onClick:R,children:"上传歌词并创建议题"})]})]})})});globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const ol=globalThis.jotaiAtomCache.get("C:\\Users\\Client\\Desktop\\amll-ttml-tool-main\\src\\states\\segmentation.ts/segmentationScopeAtom",Ze("segmentation.scope","all"));ol.debugLabel="segmentationScopeAtom";ol.debugLabel="segmentationScopeAtom";const ll=globalThis.jotaiAtomCache.get("C:\\Users\\Client\\Desktop\\amll-ttml-tool-main\\src\\states\\segmentation.ts/segmentationRangeStartAtom",Ze("segmentation.rangeStart","1"));ll.debugLabel="segmentationRangeStartAtom";ll.debugLabel="segmentationRangeStartAtom";const al=globalThis.jotaiAtomCache.get("C:\\Users\\Client\\Desktop\\amll-ttml-tool-main\\src\\states\\segmentation.ts/segmentationRangeEndAtom",Ze("segmentation.rangeEnd","1"));al.debugLabel="segmentationRangeEndAtom";al.debugLabel="segmentationRangeEndAtom";const nl=globalThis.jotaiAtomCache.get("C:\\Users\\Client\\Desktop\\amll-ttml-tool-main\\src\\states\\segmentation.ts/segmentationSplitCJKAtom",Ze("segmentation.splitCJK",!0));nl.debugLabel="segmentationSplitCJKAtom";nl.debugLabel="segmentationSplitCJKAtom";const il=globalThis.jotaiAtomCache.get("C:\\Users\\Client\\Desktop\\amll-ttml-tool-main\\src\\states\\segmentation.ts/segmentationSplitEnglishAtom",Ze("segmentation.splitEnglish",!0));il.debugLabel="segmentationSplitEnglishAtom";il.debugLabel="segmentationSplitEnglishAtom";const rl=globalThis.jotaiAtomCache.get("C:\\Users\\Client\\Desktop\\amll-ttml-tool-main\\src\\states\\segmentation.ts/segmentationPunctuationModeAtom",Ze("segmentation.punctuationMode","merge"));rl.debugLabel="segmentationPunctuationModeAtom";rl.debugLabel="segmentationPunctuationModeAtom";const cl=globalThis.jotaiAtomCache.get("C:\\Users\\Client\\Desktop\\amll-ttml-tool-main\\src\\states\\segmentation.ts/segmentationPunctuationWeightAtom",Ze("segmentation.punctuationWeight","0.2"));cl.debugLabel="segmentationPunctuationWeightAtom";cl.debugLabel="segmentationPunctuationWeightAtom";const dl=globalThis.jotaiAtomCache.get("C:\\Users\\Client\\Desktop\\amll-ttml-tool-main\\src\\states\\segmentation.ts/segmentationRemoveEmptySegmentsAtom",Ze("segmentation.removeEmptySegments",!0));dl.debugLabel="segmentationRemoveEmptySegmentsAtom";dl.debugLabel="segmentationRemoveEmptySegmentsAtom";const ml=globalThis.jotaiAtomCache.get("C:\\Users\\Client\\Desktop\\amll-ttml-tool-main\\src\\states\\segmentation.ts/segmentationIgnoreListTextAtom",Ze("segmentation.ignoreListText",""));ml.debugLabel="segmentationIgnoreListTextAtom";ml.debugLabel="segmentationIgnoreListTextAtom";const po=globalThis.jotaiAtomCache.get("C:\\Users\\Client\\Desktop\\amll-ttml-tool-main\\src\\states\\segmentation.ts/segmentationCustomRulesStorageAtom",Ze("segmentation.customRules",[]));po.debugLabel="segmentationCustomRulesStorageAtom";po.debugLabel="segmentationCustomRulesStorageAtom";const ul=globalThis.jotaiAtomCache.get("C:\\Users\\Client\\Desktop\\amll-ttml-tool-main\\src\\states\\segmentation.ts/segmentationCustomRulesAtom",Co(e=>{const t=e(po);return new Map(t)},(e,t,a)=>{const o=Array.from(a.entries());t(po,o)}));ul.debugLabel="segmentationCustomRulesAtom";ul.debugLabel="segmentationCustomRulesAtom";const md="_ruleList_vf959_1",ud="_previewWord_vf959_9",Qs={ruleList:md,previewWord:ud},hd="_manualSplitter_gh7qr_1",fd="_grapheme_gh7qr_71",yl={manualSplitter:hd,grapheme:fd};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const on=i.memo(e=>{const t=ct.c(7),{word:a,splitIndices:o,onSplitIndexToggle:n}=e;let r;t[0]!==a?(r=Array.from(a),t[0]=a,t[1]=r):r=t[1];const c=r;let l;t[2]===Symbol.for("react.memo_cache_sentinel")?(l={backgroundColor:"var(--gray-4)",borderRadius:"var(--radius-2)",padding:"var(--space-4)",minHeight:"4em",userSelect:"none",overflowX:"auto",whiteSpace:"nowrap"},t[2]=l):l=t[2];let d;return t[3]!==c||t[4]!==n||t[5]!==o?(d=s.jsx(L,{align:"center",justify:"center",style:l,children:c.map((u,g)=>s.jsxs(i.Fragment,{children:[g>0&&s.jsx("button",{type:"button",className:yl.manualSplitter,"data-split":o.has(g),onClick:()=>n(g)}),s.jsx("span",{className:yl.grapheme,children:u})]},`${u}-${g}`))}),t[3]=c,t[4]=n,t[5]=o,t[6]=d):d=t[6],d});globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const gd=i.memo(()=>{const e=ct.c(284),[t,a]=Y(ki),[o,n]=Y(ol),[r,c]=Y(ll),[l,d]=Y(al),[u,g]=Y(nl),[p,C]=Y(il),[x,b]=Y(rl),[f,y]=Y(cl),[v,h]=Y(dl),[j,R]=Y(ml),[S,O]=Y(ul),[I,P]=i.useState(""),[A,T]=i.useState("");let N;e[0]===Symbol.for("react.memo_cache_sentinel")?(N=new Set,e[0]=N):N=e[0];const[E,F]=i.useState(N),k=So(Dt),B=Ut(Dt),{t:m}=Ct();let M;e[1]===Symbol.for("react.memo_cache_sentinel")?(M=ee=>{F(Te=>{const He=new Set(Te);return He.has(ee)?He.delete(ee):He.add(ee),He})},e[1]=M):M=e[1];const z=M;let $;e[2]!==S||e[3]!==E||e[4]!==A||e[5]!==O?($=()=>{if(!A)return;const ee=[];let Te=0;const He=Array.from(E).sort(pd);for(const lt of He)ee.push(A.slice(Te,lt)),Te=lt;ee.push(A.slice(Te));const Ne=new Map(S);Ne.set(A,ee),O(Ne),T(""),F(new Set)},e[2]=S,e[3]=E,e[4]=A,e[5]=O,e[6]=$):$=e[6];const G=$;let U;e[7]!==S||e[8]!==O?(U=ee=>{const Te=new Map(S);Te.delete(ee),O(Te)},e[7]=S,e[8]=O,e[9]=U):U=e[9];const se=U;let Z;e[10]===Symbol.for("react.memo_cache_sentinel")?(Z=(ee,Te)=>{T(ee);const He=new Set;let Ne=0;for(let lt=0;lt<Te.length-1;lt++)Ne=Ne+Te[lt].length,He.add(Ne);F(He)},e[10]=Z):Z=e[10];const X=Z;let q;e[11]!==j?(q=new Set(j.split(`
`).filter(xd)),e[11]=j,e[12]=q):q=e[12];const ue=q,D=parseFloat(f);let H;e[13]!==D?(H=Number.isNaN(D)?.2:D,e[13]=D,e[14]=H):H=e[14];const K=H;let W;e[15]!==S||e[16]!==K||e[17]!==ue||e[18]!==x||e[19]!==v||e[20]!==u||e[21]!==p?(W={splitCJK:u,splitEnglish:p,punctuationMode:x,punctuationWeight:K,removeEmptySegments:v,ignoreList:ue,customRules:S},e[15]=S,e[16]=K,e[17]=ue,e[18]=x,e[19]=v,e[20]=u,e[21]=p,e[22]=W):W=e[22];const _=W;let V;if(e[23]!==_||e[24]!==m||e[25]!==I){e:{if(!I.trim()){V=void 0;break e}const ee={...Gs(),word:I,startTime:0,endTime:1e4};try{const Te=pl(ee,_);if(Te.length===0){V=void 0;break e}let He;e[27]!==m?(He=(Ne,lt)=>s.jsx("span",{className:Qs.previewWord,children:Ne.word.trim()===""?s.jsx(w,{color:"gray",as:"span",children:Ne.word.length>0?m("splitWordDialog.spaceCount","空格x{count}",{count:Ne.word.length}):m("splitWordDialog.empty","空白")}):Ne.word},`preview-word-${lt}-${Ne.id}`),e[27]=m,e[28]=He):He=e[28],V=s.jsx(L,{gap:"1",wrap:"wrap",align:"center",children:Te.map(He)})}catch(Te){console.error("分词预览出错:",Te);let Ne;e[29]!==m?(Ne=m("advancedSegmentDialog.test.outputError","分词预览出错"),e[29]=m,e[30]=Ne):Ne=e[30];let lt;e[31]!==Ne?(lt=s.jsx(w,{color:"gray",children:Ne}),e[31]=Ne,e[32]=lt):lt=e[32],V=lt}}e[23]=_,e[24]=m,e[25]=I,e[26]=V}else V=e[26];const te=V;let oe;e[33]!==B.lyricLines.length||e[34]!==k||e[35]!==l||e[36]!==r||e[37]!==o||e[38]!==_||e[39]!==a?(oe=()=>{const ee=B.lyricLines.length;let Te=0,He=ee;o==="range"&&(Te=(parseInt(r,10)||1)-1,He=parseInt(l,10)||ee,Te=Math.max(0,Math.min(Te,ee)),He=Math.max(Te,Math.min(He,ee))),k(Ne=>{for(let lt=Te;lt<He;lt++){const Eo=Ne.lyricLines[lt];Eo&&(Eo.words=Eo.words.flatMap(ln=>pl(ln,_)))}}),a(!1)},e[33]=B.lyricLines.length,e[34]=k,e[35]=l,e[36]=r,e[37]=o,e[38]=_,e[39]=a,e[40]=oe):oe=e[40];const le=oe;let J;e[41]!==m?(J=m("advancedSegmentDialog.title","高级分词"),e[41]=m,e[42]=J):J=e[42];let ae;e[43]!==J?(ae=s.jsx(_t,{children:J}),e[43]=J,e[44]=ae):ae=e[44];let Q;e[45]!==m?(Q=m("advancedSegmentDialog.scope.title","应用范围"),e[45]=m,e[46]=Q):Q=e[46];let De;e[47]!==Q?(De=s.jsx(w,{children:Q}),e[47]=Q,e[48]=De):De=e[48];let ge;e[49]!==n?(ge=ee=>n(ee),e[49]=n,e[50]=ge):ge=e[50];let pe;e[51]===Symbol.for("react.memo_cache_sentinel")?(pe=s.jsx(pt,{value:"all"}),e[51]=pe):pe=e[51];let me;e[52]!==m?(me=m("advancedSegmentDialog.scope.all","所有歌词行"),e[52]=m,e[53]=me):me=e[53];let he;e[54]!==me?(he=s.jsx(w,{as:"label",size:"2",children:s.jsxs(L,{gap:"2",align:"center",children:[pe,s.jsx(w,{children:me})]})}),e[54]=me,e[55]=he):he=e[55];let xe;e[56]===Symbol.for("react.memo_cache_sentinel")?(xe=s.jsx(pt,{value:"range"}),e[56]=xe):xe=e[56];let ye;e[57]!==m?(ye=m("advancedSegmentDialog.scope.range.from","从第"),e[57]=m,e[58]=ye):ye=e[58];let ve;e[59]!==ye?(ve=s.jsx(w,{children:ye}),e[59]=ye,e[60]=ve):ve=e[60];let je;e[61]!==c?(je=ee=>c(ee.target.value),e[61]=c,e[62]=je):je=e[62];const $e=o!=="range";let ze;e[63]===Symbol.for("react.memo_cache_sentinel")?(ze={maxWidth:80},e[63]=ze):ze=e[63];let Oe;e[64]!==r||e[65]!==je||e[66]!==$e?(Oe=s.jsx(qe,{type:"number",value:r,onChange:je,disabled:$e,style:ze}),e[64]=r,e[65]=je,e[66]=$e,e[67]=Oe):Oe=e[67];let ke;e[68]!==m?(ke=m("advancedSegmentDialog.scope.range.to","行到第"),e[68]=m,e[69]=ke):ke=e[69];let Ie;e[70]!==ke?(Ie=s.jsx(w,{children:ke}),e[70]=ke,e[71]=Ie):Ie=e[71];let Pe;e[72]!==d?(Pe=ee=>d(ee.target.value),e[72]=d,e[73]=Pe):Pe=e[73];const Be=o!=="range";let Ve;e[74]===Symbol.for("react.memo_cache_sentinel")?(Ve={maxWidth:80},e[74]=Ve):Ve=e[74];let Le;e[75]!==l||e[76]!==Pe||e[77]!==Be?(Le=s.jsx(qe,{type:"number",value:l,onChange:Pe,disabled:Be,style:Ve}),e[75]=l,e[76]=Pe,e[77]=Be,e[78]=Le):Le=e[78];let _e;e[79]!==m?(_e=m("advancedSegmentDialog.scope.range.end","行"),e[79]=m,e[80]=_e):_e=e[80];let Ue;e[81]!==_e?(Ue=s.jsx(w,{children:_e}),e[81]=_e,e[82]=Ue):Ue=e[82];let ie;e[83]!==ve||e[84]!==Oe||e[85]!==Ie||e[86]!==Le||e[87]!==Ue?(ie=s.jsx(w,{as:"label",size:"2",children:s.jsxs(L,{gap:"2",align:"center",mt:"2",children:[xe,ve,Oe,Ie,Le,Ue]})}),e[83]=ve,e[84]=Oe,e[85]=Ie,e[86]=Le,e[87]=Ue,e[88]=ie):ie=e[88];let Ce;e[89]!==o||e[90]!==ge||e[91]!==he||e[92]!==ie?(Ce=s.jsx(w,{as:"label",size:"2",children:s.jsxs($s,{value:o,onValueChange:ge,children:[he,ie]})}),e[89]=o,e[90]=ge,e[91]=he,e[92]=ie,e[93]=Ce):Ce=e[93];let we;e[94]!==De||e[95]!==Ce?(we=s.jsxs(L,{direction:"column",gap:"2",children:[De,Ce]}),e[94]=De,e[95]=Ce,e[96]=we):we=e[96];let re;e[97]!==m?(re=m("advancedSegmentDialog.rules.title","自动分词规则"),e[97]=m,e[98]=re):re=e[98];let ce;e[99]!==re?(ce=s.jsx(w,{children:re}),e[99]=re,e[100]=ce):ce=e[100];let Me;e[101]!==g?(Me=ee=>g(ee),e[101]=g,e[102]=Me):Me=e[102];let Ke;e[103]!==u||e[104]!==Me?(Ke=s.jsx(Us,{checked:u,onCheckedChange:Me}),e[103]=u,e[104]=Me,e[105]=Ke):Ke=e[105];let Ye;e[106]!==m?(Ye=m("advancedSegmentDialog.rules.cjk","CJK 按字符分词"),e[106]=m,e[107]=Ye):Ye=e[107];let Xe;e[108]!==Ke||e[109]!==Ye?(Xe=s.jsx(w,{as:"label",size:"2",children:s.jsxs(L,{gap:"2",align:"center",children:[Ke,Ye]})}),e[108]=Ke,e[109]=Ye,e[110]=Xe):Xe=e[110];let at;e[111]!==C?(at=ee=>C(ee),e[111]=C,e[112]=at):at=e[112];let Qe;e[113]!==p||e[114]!==at?(Qe=s.jsx(Us,{checked:p,onCheckedChange:at}),e[113]=p,e[114]=at,e[115]=Qe):Qe=e[115];let dt;e[116]!==m?(dt=m("advancedSegmentDialog.rules.english","英文单词按音节分词"),e[116]=m,e[117]=dt):dt=e[117];let et;e[118]!==Qe||e[119]!==dt?(et=s.jsx(w,{as:"label",size:"2",children:s.jsxs(L,{gap:"2",align:"center",children:[Qe,dt]})}),e[118]=Qe,e[119]=dt,e[120]=et):et=e[120];let nt;e[121]===Symbol.for("react.memo_cache_sentinel")?(nt=s.jsx(Ps,{children:s.jsx(Mo,{})}),e[121]=nt):nt=e[121];let it;e[122]!==m?(it=m("advancedSegmentDialog.tip","分词后，原音节的时长会按照字符数和权重重新分配给新的音节"),e[122]=m,e[123]=it):it=e[123];let de;e[124]!==it?(de=s.jsxs(zt,{color:"blue",children:[nt,s.jsx(Vt,{children:it})]}),e[124]=it,e[125]=de):de=e[125];let ne;e[126]!==ce||e[127]!==Xe||e[128]!==et||e[129]!==de?(ne=s.jsxs(L,{direction:"column",gap:"2",children:[ce,Xe,et,de]}),e[126]=ce,e[127]=Xe,e[128]=et,e[129]=de,e[130]=ne):ne=e[130];let be;e[131]!==m?(be=m("advancedSegmentDialog.postProcess.title","后处理"),e[131]=m,e[132]=be):be=e[132];let Re;e[133]!==be?(Re=s.jsx(w,{children:be}),e[133]=be,e[134]=Re):Re=e[134];let mt;e[135]!==m?(mt=m("advancedSegmentDialog.postProcess.punct.caption","标点符号处理:"),e[135]=m,e[136]=mt):mt=e[136];let Ge;e[137]!==mt?(Ge=s.jsx(w,{children:mt}),e[137]=mt,e[138]=Ge):Ge=e[138];let st;e[139]!==b?(st=ee=>b(ee),e[139]=b,e[140]=st):st=e[140];let yt;e[141]===Symbol.for("react.memo_cache_sentinel")?(yt=s.jsx(pt,{value:"merge"}),e[141]=yt):yt=e[141];let gt;e[142]!==m?(gt=m("advancedSegmentDialog.postProcess.punct.merge","合并到前一个音节"),e[142]=m,e[143]=gt):gt=e[143];let ht;e[144]!==gt?(ht=s.jsx(w,{as:"label",size:"2",children:s.jsxs(L,{gap:"2",align:"center",children:[yt,s.jsx(w,{children:gt})]})}),e[144]=gt,e[145]=ht):ht=e[145];let Ae;e[146]===Symbol.for("react.memo_cache_sentinel")?(Ae=s.jsx(pt,{value:"standalone"}),e[146]=Ae):Ae=e[146];let wt;e[147]!==m?(wt=m("advancedSegmentDialog.postProcess.punct.standalone","设为新音节"),e[147]=m,e[148]=wt):wt=e[148];let Ht;e[149]!==wt?(Ht=s.jsx(w,{as:"label",size:"2",children:s.jsxs(L,{gap:"2",align:"center",mt:"2",children:[Ae,s.jsx(w,{children:wt})]})}),e[149]=wt,e[150]=Ht):Ht=e[150];let Kt;e[151]!==x||e[152]!==st||e[153]!==ht||e[154]!==Ht?(Kt=s.jsxs($s,{value:x,onValueChange:st,children:[ht,Ht]}),e[151]=x,e[152]=st,e[153]=ht,e[154]=Ht,e[155]=Kt):Kt=e[155];let Gt;e[156]!==Ge||e[157]!==Kt?(Gt=s.jsx(w,{as:"label",size:"2",children:s.jsxs(L,{direction:"column",gap:"2",children:[Ge,Kt]})}),e[156]=Ge,e[157]=Kt,e[158]=Gt):Gt=e[158];let Bt;e[159]!==m?(Bt=m("advancedSegmentDialog.postProcess.punct.weight","标点时长权重:"),e[159]=m,e[160]=Bt):Bt=e[160];let Zt;e[161]!==Bt?(Zt=s.jsx(w,{children:Bt}),e[161]=Bt,e[162]=Zt):Zt=e[162];let Wt;e[163]!==y?(Wt=ee=>y(ee.target.value),e[163]=y,e[164]=Wt):Wt=e[164];const ms=x!=="standalone";let us;e[165]===Symbol.for("react.memo_cache_sentinel")?(us={maxWidth:100},e[165]=us):us=e[165];let Et;e[166]!==f||e[167]!==Wt||e[168]!==ms?(Et=s.jsx(qe,{type:"number",value:f,onChange:Wt,disabled:ms,style:us}),e[166]=f,e[167]=Wt,e[168]=ms,e[169]=Et):Et=e[169];let vt;e[170]!==Zt||e[171]!==Et?(vt=s.jsx(w,{as:"label",size:"2",children:s.jsxs(L,{direction:"column",gap:"2",children:[Zt,Et]})}),e[170]=Zt,e[171]=Et,e[172]=vt):vt=e[172];let At;e[173]!==h?(At=ee=>h(ee),e[173]=h,e[174]=At):At=e[174];let kt;e[175]!==v||e[176]!==At?(kt=s.jsx(Us,{checked:v,onCheckedChange:At}),e[175]=v,e[176]=At,e[177]=kt):kt=e[177];let qt;e[178]!==m?(qt=m("advancedSegmentDialog.postProcess.empty","移除空白音节"),e[178]=m,e[179]=qt):qt=e[179];let Pt;e[180]!==qt?(Pt=s.jsx(w,{children:qt}),e[180]=qt,e[181]=Pt):Pt=e[181];let ot;e[182]!==kt||e[183]!==Pt?(ot=s.jsx(w,{as:"label",size:"2",children:s.jsxs(L,{gap:"2",align:"center",children:[kt,Pt]})}),e[182]=kt,e[183]=Pt,e[184]=ot):ot=e[184];let Se;e[185]!==Re||e[186]!==Gt||e[187]!==vt||e[188]!==ot?(Se=s.jsxs(L,{direction:"column",gap:"3",children:[Re,Gt,vt,ot]}),e[185]=Re,e[186]=Gt,e[187]=vt,e[188]=ot,e[189]=Se):Se=e[189];let ut;e[190]!==m?(ut=m("advancedSegmentDialog.custom.title","自定义分词规则"),e[190]=m,e[191]=ut):ut=e[191];let jt;e[192]!==ut?(jt=s.jsx(w,{children:ut}),e[192]=ut,e[193]=jt):jt=e[193];let tt;e[194]!==m?(tt=m("advancedSegmentDialog.custom.input","输入单词进行手动分割..."),e[194]=m,e[195]=tt):tt=e[195];let $t;e[196]===Symbol.for("react.memo_cache_sentinel")?($t=ee=>{T(ee.target.value),F(new Set)},e[196]=$t):$t=e[196];let St;e[197]!==A||e[198]!==tt?(St=s.jsx(qe,{placeholder:tt,value:A,onChange:$t}),e[197]=A,e[198]=tt,e[199]=St):St=e[199];let rt;e[200]!==E||e[201]!==A?(rt=s.jsx(on,{word:A,splitIndices:E,onSplitIndexToggle:z}),e[200]=E,e[201]=A,e[202]=rt):rt=e[202];const Mt=!A;let Tt;e[203]!==m?(Tt=m("advancedSegmentDialog.custom.add","添加到自定义规则"),e[203]=m,e[204]=Tt):Tt=e[204];let Ft;e[205]!==G||e[206]!==Mt||e[207]!==Tt?(Ft=s.jsx(Je,{onClick:G,disabled:Mt,children:Tt}),e[205]=G,e[206]=Mt,e[207]=Tt,e[208]=Ft):Ft=e[208];let hs;e[209]!==S||e[210]!==se||e[211]!==m?(hs=S.size>0&&s.jsxs(L,{direction:"column",gap:"2",children:[s.jsx(w,{size:"2",children:m("advancedSegmentDialog.custom.list","自定义规则列表:")}),s.jsx(Xt,{className:Qs.ruleList,children:Array.from(S.entries()).map(ee=>{const[Te,He]=ee;return s.jsxs(L,{justify:"between",align:"center",style:{paddingTop:"var(--space-1)",paddingBottom:"var(--space-2)",marginBottom:"var(--space-2)",borderBottom:"3px solid var(--gray-3)"},children:[s.jsxs(L,{align:"center",gap:"2",wrap:"wrap",children:[s.jsx("span",{className:Qs.previewWord,children:Te}),s.jsx(w,{color:"gray",as:"span",children:"→"}),He.map((Ne,lt)=>s.jsx("span",{className:Qs.previewWord,children:Ne.trim()===""?s.jsx(w,{color:"gray",as:"span",children:Ne.length>0?m("splitWordDialog.spaceCount","空格x{count}",{count:Ne.length}):m("splitWordDialog.empty","空白")}):Ne},`${Te}-${Ne}-${lt}`))]}),s.jsxs(L,{gap:"1",children:[s.jsx(ns,{size:"1",variant:"ghost",color:"gray",onClick:()=>X(Te,He),children:s.jsx(Pi,{})}),s.jsx(ns,{size:"1",variant:"ghost",color:"gray",onClick:()=>se(Te),children:s.jsx(Vl,{})})]})]},Te)})})]}),e[209]=S,e[210]=se,e[211]=m,e[212]=hs):hs=e[212];let fs;e[213]!==jt||e[214]!==St||e[215]!==rt||e[216]!==Ft||e[217]!==hs?(fs=s.jsxs(L,{direction:"column",gap:"2",children:[jt,St,rt,Ft,hs]}),e[213]=jt,e[214]=St,e[215]=rt,e[216]=Ft,e[217]=hs,e[218]=fs):fs=e[218];let gs;e[219]!==m?(gs=m("advancedSegmentDialog.ignore.title","忽略列表"),e[219]=m,e[220]=gs):gs=e[220];let ps;e[221]!==gs?(ps=s.jsx(w,{children:gs}),e[221]=gs,e[222]=ps):ps=e[222];let xs;e[223]!==m?(xs=m("advancedSegmentDialog.ignore.placeholder","每行一个单词，在此列表中的单词将不会被自动分词"),e[223]=m,e[224]=xs):xs=e[224];let bs;e[225]!==R?(bs=ee=>R(ee.target.value),e[225]=R,e[226]=bs):bs=e[226];let Zs;e[227]===Symbol.for("react.memo_cache_sentinel")?(Zs={minHeight:100,resize:"vertical"},e[227]=Zs):Zs=e[227];let ys;e[228]!==j||e[229]!==xs||e[230]!==bs?(ys=s.jsx(Ko,{placeholder:xs,value:j,onChange:bs,style:Zs}),e[228]=j,e[229]=xs,e[230]=bs,e[231]=ys):ys=e[231];let vs;e[232]!==ps||e[233]!==ys?(vs=s.jsx(w,{as:"label",size:"2",children:s.jsxs(L,{direction:"column",gap:"2",children:[ps,ys]})}),e[232]=ps,e[233]=ys,e[234]=vs):vs=e[234];let js;e[235]!==m?(js=m("advancedSegmentDialog.test.title","分词测试"),e[235]=m,e[236]=js):js=e[236];let Ss;e[237]!==js?(Ss=s.jsx(w,{children:js}),e[237]=js,e[238]=Ss):Ss=e[238];let Cs;e[239]!==m?(Cs=m("advancedSegmentDialog.test.input","输入一行歌词或单词进行测试..."),e[239]=m,e[240]=Cs):Cs=e[240];let qs;e[241]===Symbol.for("react.memo_cache_sentinel")?(qs=ee=>P(ee.target.value),e[241]=qs):qs=e[241];let ws;e[242]!==Cs||e[243]!==I?(ws=s.jsx(qe,{placeholder:Cs,value:I,onChange:qs}),e[242]=Cs,e[243]=I,e[244]=ws):ws=e[244];let As;e[245]!==m?(As=m("advancedSegmentDialog.test.output","预览结果:"),e[245]=m,e[246]=As):As=e[246];let Ts;e[247]!==As?(Ts=s.jsx(w,{size:"2",children:As}),e[247]=As,e[248]=Ts):Ts=e[248];let Js;e[249]===Symbol.for("react.memo_cache_sentinel")?(Js={backgroundColor:"var(--gray-4)",borderRadius:"var(--radius-2)",padding:"var(--space-2)",minHeight:"4em"},e[249]=Js):Js=e[249];let Ds;e[250]!==te?(Ds=s.jsx(Xt,{style:Js,children:te}),e[250]=te,e[251]=Ds):Ds=e[251];let Is;e[252]!==Ts||e[253]!==Ds||e[254]!==Ss||e[255]!==ws?(Is=s.jsx(w,{as:"label",size:"2",children:s.jsxs(L,{direction:"column",gap:"2",children:[Ss,ws,Ts,Ds]})}),e[252]=Ts,e[253]=Ds,e[254]=Ss,e[255]=ws,e[256]=Is):Is=e[256];let Ls;e[257]!==Is||e[258]!==we||e[259]!==ne||e[260]!==Se||e[261]!==fs||e[262]!==vs?(Ls=s.jsxs(L,{direction:"column",gap:"4",children:[we,ne,Se,fs,vs,Is]}),e[257]=Is,e[258]=we,e[259]=ne,e[260]=Se,e[261]=fs,e[262]=vs,e[263]=Ls):Ls=e[263];let _s;e[264]!==m?(_s=m("common.cancel","取消"),e[264]=m,e[265]=_s):_s=e[265];let Ms;e[266]!==_s?(Ms=s.jsx(Bs,{children:s.jsx(Je,{variant:"soft",color:"gray",children:_s})}),e[266]=_s,e[267]=Ms):Ms=e[267];let Rs;e[268]!==m?(Rs=m("common.apply","应用"),e[268]=m,e[269]=Rs):Rs=e[269];let Ns;e[270]!==le||e[271]!==Rs?(Ns=s.jsx(Je,{onClick:le,children:Rs}),e[270]=le,e[271]=Rs,e[272]=Ns):Ns=e[272];let Es;e[273]!==Ms||e[274]!==Ns?(Es=s.jsxs(L,{gap:"3",mt:"4",justify:"end",children:[Ms,Ns]}),e[273]=Ms,e[274]=Ns,e[275]=Es):Es=e[275];let ks;e[276]!==Ls||e[277]!==Es||e[278]!==ae?(ks=s.jsxs(Lt,{maxWidth:"800px",children:[ae,Ls,Es]}),e[276]=Ls,e[277]=Es,e[278]=ae,e[279]=ks):ks=e[279];let Ys;return e[280]!==t||e[281]!==a||e[282]!==ks?(Ys=s.jsx(It,{open:t,onOpenChange:a,children:ks}),e[280]=t,e[281]=a,e[282]=ks,e[283]=Ys):Ys=e[283],Ys});function pd(e,t){return e-t}function xd(e){return e.trim()!==""}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const bd=()=>{const e=ct.c(31),[t,a]=Y(Ho),{t:o}=Ct();let n;e[0]!==t||e[1]!==a?(n=()=>{t.onConfirm?.(),a({...t,open:!1})},e[0]=t,e[1]=a,e[2]=n):n=e[2];const r=n;let c;e[3]!==t||e[4]!==a?(c=()=>{a({...t,open:!1})},e[3]=t,e[4]=a,e[5]=c):c=e[5];const l=c,d=t.open;let u;e[6]!==t.title?(u=s.jsx(_t,{children:t.title}),e[6]=t.title,e[7]=u):u=e[7];let g;e[8]!==t.description?(g=s.jsx(_o,{children:t.description}),e[8]=t.description,e[9]=g):g=e[9];let p;e[10]!==o?(p=o("confirmDialog.cancel","取消"),e[10]=o,e[11]=p):p=e[11];let C;e[12]!==l||e[13]!==p?(C=s.jsx(Je,{variant:"soft",color:"gray",onClick:l,children:p}),e[12]=l,e[13]=p,e[14]=C):C=e[14];let x;e[15]!==o?(x=o("confirmDialog.confirm","确认"),e[15]=o,e[16]=x):x=e[16];let b;e[17]!==r||e[18]!==x?(b=s.jsx(Je,{onClick:r,children:x}),e[17]=r,e[18]=x,e[19]=b):b=e[19];let f;e[20]!==C||e[21]!==b?(f=s.jsxs(L,{gap:"3",mt:"4",justify:"end",children:[C,b]}),e[20]=C,e[21]=b,e[22]=f):f=e[22];let y;e[23]!==u||e[24]!==g||e[25]!==f?(y=s.jsxs(Lt,{children:[u,g,f]}),e[23]=u,e[24]=g,e[25]=f,e[26]=y):y=e[26];let v;return e[27]!==t.open||e[28]!==l||e[29]!==y?(v=s.jsx(It,{open:d,onOpenChange:l,children:y}),e[27]=t.open,e[28]=l,e[29]=y,e[30]=v):v=e[30],v};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const yd=()=>{const e=ct.c(51),[t,a]=Y($i);let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o=[],e[0]=o):o=e[0];const[n,r]=i.useState(o),c=$o(Dt),l=$o(Ho),{t:d}=Ct();let u,g;e[1]!==t?(u=()=>{t&&Oi().then(m=>r(m.filter(vd).map(jd))).catch(console.error)},g=[t],e[1]=t,e[2]=u,e[3]=g):(u=e[2],g=e[3]),i.useEffect(u,g);let p;e[4]!==l||e[5]!==a||e[6]!==c||e[7]!==d?(p=m=>{l({open:!0,title:d("historyRestoreDialog.confirm.title","确认恢复"),description:d("historyRestoreDialog.confirm.description","此操作将覆盖当前编辑器中的所有内容，确定要恢复此快照吗？"),onConfirm:async()=>{const M=await Bi(m);M&&(c(M.lyrics),a(!1))}})},e[4]=l,e[5]=a,e[6]=c,e[7]=d,e[8]=p):p=e[8];const C=p;let x;e[9]!==d?(x=async m=>{try{await Wi(m),r(M=>M.filter(z=>z.id!==m))}catch(M){console.error("Failed to delete snapshot",M),Vs.error(d("historyRestoreDialog.deleteFailed","删除快照失败"))}},e[9]=d,e[10]=x):x=e[10];const b=x;let f;e[11]!==d?(f=d("historyRestoreDialog.title","从历史记录恢复"),e[11]=d,e[12]=f):f=e[12];let y;e[13]!==f?(y=s.jsx(_t,{children:f}),e[13]=f,e[14]=y):y=e[14];let v;e[15]!==d?(v=d("historyRestoreDialog.description","选择一个自动保存的快照进行恢复"),e[15]=d,e[16]=v):v=e[16];let h;e[17]!==v?(h=s.jsx(_o,{children:v}),e[17]=v,e[18]=h):h=e[18];let j;e[19]===Symbol.for("react.memo_cache_sentinel")?(j={maxHeight:"50vh"},e[19]=j):j=e[19];let R;e[20]===Symbol.for("react.memo_cache_sentinel")?(R={height:"100%"},e[20]=R):R=e[20];let S;e[21]!==d?(S=d("historyRestoreDialog.tableHeader","保存时间"),e[21]=d,e[22]=S):S=e[22];let O;e[23]!==S?(O=s.jsx(Uo,{children:S}),e[23]=S,e[24]=O):O=e[24];let I;e[25]===Symbol.for("react.memo_cache_sentinel")?(I=s.jsx(Uo,{}),e[25]=I):I=e[25];let P;e[26]!==O?(P=s.jsx(Ya,{children:s.jsxs(so,{children:[O,I]})}),e[26]=O,e[27]=P):P=e[27];let A;e[28]!==b||e[29]!==C||e[30]!==n||e[31]!==d?(A=n.length>0?n.map(m=>s.jsxs(so,{children:[s.jsx(Qa,{children:new Date(m.timestamp).toLocaleString()}),s.jsx(Vo,{justify:"end",children:s.jsxs(L,{gap:"2",justify:"end",children:[s.jsx(Je,{size:"1",onClick:()=>C(m.id),children:d("historyRestoreDialog.restoreButton","恢复")}),s.jsx(ns,{size:"1",variant:"soft",color:"red",onClick:()=>b(m.id),children:s.jsx(Vl,{})})]})})]},m.id)):s.jsx(so,{children:s.jsx(Vo,{colSpan:2,align:"center",children:s.jsx(w,{color:"gray",size:"2",children:d("historyRestoreDialog.noHistory","没有可用的历史记录")})})}),e[28]=b,e[29]=C,e[30]=n,e[31]=d,e[32]=A):A=e[32];let T;e[33]!==A?(T=s.jsx(Xa,{children:A}),e[33]=A,e[34]=T):T=e[34];let N;e[35]!==P||e[36]!==T?(N=s.jsx(Xt,{mt:"4",style:j,children:s.jsx(Ol,{type:"auto",scrollbars:"vertical",style:R,children:s.jsxs(Ja,{variant:"surface",children:[P,T]})})}),e[35]=P,e[36]=T,e[37]=N):N=e[37];let E;e[38]!==d?(E=d("historyRestoreDialog.cancelButton","取消"),e[38]=d,e[39]=E):E=e[39];let F;e[40]!==E?(F=s.jsx(L,{gap:"3",mt:"4",justify:"end",children:s.jsx(Bs,{children:s.jsx(Je,{variant:"soft",color:"gray",children:E})})}),e[40]=E,e[41]=F):F=e[41];let k;e[42]!==N||e[43]!==F||e[44]!==y||e[45]!==h?(k=s.jsxs(Lt,{children:[y,h,N,F]}),e[42]=N,e[43]=F,e[44]=y,e[45]=h,e[46]=k):k=e[46];let B;return e[47]!==t||e[48]!==a||e[49]!==k?(B=s.jsx(It,{open:t,onOpenChange:a,children:k}),e[47]=t,e[48]=a,e[49]=k,e[50]=B):B=e[50],B};function vd(e){return e.id!=null}function jd(e){return{id:e.id,timestamp:e.timestamp}}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const eo=e=>{const t=ct.c(2),{enable:a}=e,o=a?"var(--accent-11)":"var(--accent-a5)";let n;return t[0]!==o?(n=s.jsx("div",{style:{width:"2em",height:"2em",borderRadius:"50%",boxShadow:"var(--shadow-2)",backgroundColor:o}}),t[0]=o,t[1]=n):n=t[1],n},Sd=i.memo(()=>{const e=ct.c(57),[t,a]=Y(Fi),[o,n]=Y(zi),[r,c]=i.useState(!1),[l,d]=i.useState(-1),[u,g]=i.useState(null),p=Ut(Fl),C=i.useRef(0),x=i.useRef(0);let b;e[0]===Symbol.for("react.memo_cache_sentinel")?(b=[],e[0]=b):b=e[0];const f=i.useRef(b),y=i.useRef(null),v=1e3/(o/60);let h,j;e[1]!==v||e[2]!==t||e[3]!==r?(h=()=>{if(!r||!t){d(-1);return}g(null);let le=!1;const J=y.current;if(!J)return;J.width=J.clientWidth*window.devicePixelRatio,J.height=J.clientHeight*window.devicePixelRatio;const ae=(J.width-2*window.devicePixelRatio)/2,Q=J.getContext("2d");if(Q)return f.current=[],(async()=>{const De=Cd,ge=wd;let pe=0;const me=v/1e3;x.current=Jt.ctxCurrentTime,C.current=x.current,Jt.playNode(De(),x.current,x.current+.05),d(0);let he=null;for(;!le;){const xe=Jt.ctxCurrentTime;xe>=C.current&&(d(pe),he=++pe%4===0?De():ge(),pe=pe%4,x.current=C.current,C.current=xe+me,Jt.playNode(he,C.current,C.current+.05)),Q.clearRect(0,0,J.width,J.height),Q.fillStyle="rgba(255, 0, 0, 0.1)";for(const je of f.current){const $e=je/me*J.width;Q.fillRect(ae+$e,0,2*window.devicePixelRatio,J.height)}Q.fillStyle="green",Q.fillRect(ae,0,2*window.devicePixelRatio,J.height);const ye=(x.current-xe)/me;Q.fillStyle="yellow",Q.fillRect(ae+ye*J.width,0,window.devicePixelRatio,J.height);const ve=(C.current-xe)/me;Q.fillStyle="yellow",Q.fillRect(ae+ve*J.width,0,window.devicePixelRatio,J.height),await new Promise(Ad)}he?.stop()})(),()=>{le=!0}},j=[r,t,v],e[1]=v,e[2]=t,e[3]=r,e[4]=h,e[5]=j):(h=e[4],j=e[5]),i.useEffect(h,j);let R;e[6]!==r||e[7]!==p?(R=le=>{if(!r)return;const J=Jt.ctxCurrentTime,ae=Jt.ctxOutputLatency;let Q=J+ae;e:switch(p){case ts.FirstKeyDownTime:{Q=Q-le.downTimeOffset/1e3;break e}case ts.LastKeyUpTime:break e;case ts.MiddleKeyTime:Q=Q-le.downTimeOffset/2e3}const De=x.current-Q,ge=C.current-Q;let pe=0;Math.abs(De)<Math.abs(ge)?pe=De:pe=ge,f.current.push(pe),f.current.length>100&&f.current.shift(),g(me=>{const he=pe*1e3|0;return me===null?{cur:he,min:he,max:he}:{cur:he,min:Math.min(me.min,he),max:Math.max(me.max,he)}})},e[6]=r,e[7]=p,e[8]=R):R=e[8];let S;e[9]!==r?(S=[r],e[9]=r,e[10]=S):S=e[10],Vi(zl,R,S);let O;e[11]===Symbol.for("react.memo_cache_sentinel")?(O=s.jsx(_t,{children:"打轴延迟测试"}),e[11]=O):O=e[11];let I;e[12]===Symbol.for("react.memo_cache_sentinel")?(I=s.jsx(w,{children:"请选择自己喜欢的 BPM，并在每个蜂鸣声响起时按下打轴按键，以测量音频/输入延迟差"}),e[12]=I):I=e[12];let P;e[13]===Symbol.for("react.memo_cache_sentinel")?(P={alignSelf:"center"},e[13]=P):P=e[13];const A=l===0;let T;e[14]!==A?(T=s.jsx(eo,{enable:A}),e[14]=A,e[15]=T):T=e[15];const N=l===1;let E;e[16]!==N?(E=s.jsx(eo,{enable:N}),e[16]=N,e[17]=E):E=e[17];const F=l===2;let k;e[18]!==F?(k=s.jsx(eo,{enable:F}),e[18]=F,e[19]=k):k=e[19];const B=l===3;let m;e[20]!==B?(m=s.jsx(eo,{enable:B}),e[20]=B,e[21]=m):m=e[21];let M;e[22]!==E||e[23]!==k||e[24]!==m||e[25]!==T?(M=s.jsxs(L,{gap:"6",my:"6",style:P,children:[T,E,k,m]}),e[22]=E,e[23]=k,e[24]=m,e[25]=T,e[26]=M):M=e[26];let z;e[27]===Symbol.for("react.memo_cache_sentinel")?(z={alignSelf:"center"},e[27]=z):z=e[27];const $=u===null?"最快延迟":`${u.max}ms`;let G;e[28]!==$?(G=s.jsx(w,{children:$}),e[28]=$,e[29]=G):G=e[29];const U=u===null?"gray":u.cur>0?"blue":u.cur<0?"red":"green",se=u===null?"未测量":u.cur>0?`快 ${u.cur}ms`:u.cur<0?`慢 ${u.cur}ms`:"完美 0ms";let Z;e[30]!==U||e[31]!==se?(Z=s.jsx(w,{color:U,children:se}),e[30]=U,e[31]=se,e[32]=Z):Z=e[32];const X=u===null?"最慢延迟":`${-u.min}ms`;let q;e[33]!==X?(q=s.jsx(w,{children:X}),e[33]=X,e[34]=q):q=e[34];let ue;e[35]!==G||e[36]!==Z||e[37]!==q?(ue=s.jsxs(L,{gap:"4",style:z,children:[G,Z,q]}),e[35]=G,e[36]=Z,e[37]=q,e[38]=ue):ue=e[38];let D;e[39]===Symbol.for("react.memo_cache_sentinel")?(D=s.jsx("canvas",{style:{width:"14em",height:"1em",margin:"1em",borderRadius:"var(--radius-2)",boxShadow:"var(--shadow-2)",alignSelf:"center"},ref:y}),e[39]=D):D=e[39];let H;e[40]!==n?(H=le=>n(le.target.valueAsNumber),e[40]=n,e[41]=H):H=e[41];let K;e[42]!==o||e[43]!==H?(K=s.jsx(w,{as:"label",size:"2",children:s.jsxs(L,{direction:"column",gap:"2",children:["节拍 BPM",s.jsx(qe,{type:"number",min:60,max:320,value:o,onChange:H})]})}),e[42]=o,e[43]=H,e[44]=K):K=e[44];let W;e[45]===Symbol.for("react.memo_cache_sentinel")?(W=()=>c(Td),e[45]=W):W=e[45];const _=r?"结束":"开始";let V;e[46]!==_?(V=s.jsx(L,{gap:"2",children:s.jsx(Je,{onClick:W,children:_})}),e[46]=_,e[47]=V):V=e[47];let te;e[48]!==M||e[49]!==ue||e[50]!==K||e[51]!==V?(te=s.jsxs(Lt,{children:[O,s.jsxs(L,{direction:"column",gap:"2",children:[I,M,ue,D,K,V]})]}),e[48]=M,e[49]=ue,e[50]=K,e[51]=V,e[52]=te):te=e[52];let oe;return e[53]!==t||e[54]!==a||e[55]!==te?(oe=s.jsx(It,{open:t,onOpenChange:a,children:te}),e[53]=t,e[54]=a,e[55]=te,e[56]=oe):oe=e[56],oe});function Cd(){const e=Jt.ctx.createOscillator();return e.type="sine",e.frequency.value=880,e}function wd(){const e=Jt.ctx.createOscillator();return e.type="sine",e.frequency.value=440,e}function Ad(e){return requestAnimationFrame(e)}function Td(e){return!e}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const hl=globalThis.jotaiAtomCache.get("C:\\Users\\Client\\Desktop\\amll-ttml-tool-main\\src\\components\\Dialogs\\notice.tsx/noticeLevelDialogAtom",Ze("noticeLevelDialog",1));hl.debugLabel="noticeLevelDialogAtom";hl.debugLabel="noticeLevelDialogAtom";const vl=1,Dd=()=>{const e=ct.c(7),[t,a]=Y(hl),o=t<vl;let n,r;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx(_t,{children:"暂无通知"}),r=s.jsx(_o,{children:"吧"}),e[0]=n,e[1]=r):(n=e[0],r=e[1]);let c;e[2]!==a?(c=s.jsxs(Lt,{children:[n,r,s.jsx(Bs,{children:s.jsx(Je,{mt:"4",onClick:()=>{a(vl)},children:"关闭"})})]}),e[2]=a,e[3]=c):c=e[3];let l;return e[4]!==o||e[5]!==c?(l=s.jsx(It,{open:o,children:c}),e[4]=o,e[5]=c,e[6]=l):l=e[6],l};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const Id=i.memo(()=>{const e=ct.c(67),[t,a]=Y(Ui),[o,n]=sn(Hi),r=Ut(Dt),c=So(Dt),{t:l}=Ct();let d;e[0]===Symbol.for("react.memo_cache_sentinel")?(d=new Set,e[0]=d):d=e[0];const[u,g]=i.useState(d),[p,C]=i.useState(""),[x,b]=i.useState(!1);let f;e[1]!==r.lyricLines||e[2]!==n||e[3]!==o.lineIndex||e[4]!==o.wordIndex?(f=()=>{const X=r.lyricLines[o.lineIndex]?.words[o.wordIndex];X?(C(X.word),n(q=>{q.word=X.word})):(C(""),n(Ld)),g(new Set),b(!1)},e[1]=r.lyricLines,e[2]=n,e[3]=o.lineIndex,e[4]=o.wordIndex,e[5]=f):f=e[5];let y;e[6]!==r||e[7]!==n||e[8]!==o.lineIndex||e[9]!==o.wordIndex?(y=[o.lineIndex,o.wordIndex,r,n],e[6]=r,e[7]=n,e[8]=o.lineIndex,e[9]=o.wordIndex,e[10]=y):y=e[10],i.useEffect(f,y);let v;e[11]===Symbol.for("react.memo_cache_sentinel")?(v=()=>{g(new Set)},e[11]=v):v=e[11];let h;e[12]!==o.word?(h=[o.word],e[12]=o.word,e[13]=h):h=e[13],i.useEffect(v,h);let j;e[14]===Symbol.for("react.memo_cache_sentinel")?(j=Z=>{g(X=>{const q=new Set(X);return q.has(Z)?q.delete(Z):q.add(Z),q})},e[14]=j):j=e[14];const R=j;let S;e[15]!==l?(S=l("splitWordDialog.title","拆分/替换单词"),e[15]=l,e[16]=S):S=e[16];let O;e[17]!==S?(O=s.jsx(_t,{children:S}),e[17]=S,e[18]=O):O=e[18];let I;e[19]===Symbol.for("react.memo_cache_sentinel")?(I=s.jsx(Ps,{children:s.jsx(Mo,{})}),e[19]=I):I=e[19];let P;e[20]!==l?(P=l("splitWordDialog.tip","拆分后新单词将会按自身单词字符平均分配原单词的始末时间，如有空拍则会被清除"),e[20]=l,e[21]=P):P=e[21];let A;e[22]!==P?(A=s.jsxs(zt,{color:"blue",children:[I,s.jsx(Vt,{children:P})]}),e[22]=P,e[23]=A):A=e[23];let T;e[24]!==n?(T=Z=>n(X=>{X.word=Z.target.value}),e[24]=n,e[25]=T):T=e[25];let N;e[26]!==o.word||e[27]!==T?(N=s.jsx(qe,{value:o.word,onChange:T}),e[26]=o.word,e[27]=T,e[28]=N):N=e[28];let E;e[29]!==u||e[30]!==o.word?(E=s.jsx(Xt,{my:"3",children:s.jsx(on,{word:o.word,splitIndices:u,onSplitIndexToggle:R})}),e[29]=u,e[30]=o.word,e[31]=E):E=e[31];let F;e[32]===Symbol.for("react.memo_cache_sentinel")?(F=Z=>b(Z),e[32]=F):F=e[32];let k;e[33]!==x?(k=s.jsx(Us,{checked:x,onCheckedChange:F}),e[33]=x,e[34]=k):k=e[34];let B;e[35]!==p||e[36]!==l?(B=l("splitWordDialog.applyToAll","将此拆分/替换规则应用于所有相同的单词",{word:p}),e[35]=p,e[36]=l,e[37]=B):B=e[37];let m;e[38]!==k||e[39]!==B?(m=s.jsx(w,{as:"label",size:"2",children:s.jsxs(L,{gap:"2",align:"center",children:[k,B]})}),e[38]=k,e[39]=B,e[40]=m):m=e[40];let M;e[41]!==A||e[42]!==N||e[43]!==E||e[44]!==m?(M=s.jsxs(L,{direction:"column",gap:"2",children:[A,N,E,m]}),e[41]=A,e[42]=N,e[43]=E,e[44]=m,e[45]=M):M=e[45];let z;e[46]!==x||e[47]!==c||e[48]!==p||e[49]!==u||e[50]!==o.lineIndex||e[51]!==o.word||e[52]!==o.wordIndex?(z=()=>{const Z=o.word,X=[];let q=0;const ue=Array.from(u).sort(_d);for(const K of ue)X.push(Z.slice(q,K)),q=K;X.push(Z.slice(q));const D=X.filter(Md);D.length===0&&Z&&D.push(Z);const H=K=>{const{startTime:W,endTime:_}=K,V=_-W;if(V<=0||D.length===0)return D.map(oe=>({...Gs(),startTime:W,endTime:_,word:oe}));const te=V/D.length;return D.map((oe,le)=>({...Gs(),startTime:W+te*le|0,endTime:W+te*(le+1)|0,word:oe}))};c(K=>{if(x){const W=p.toLowerCase();for(const _ of K.lyricLines)_.words=_.words.flatMap(V=>V.word.toLowerCase()===W?H(V):V)}else{const W=K.lyricLines[o.lineIndex];if(W){const _=W.words[o.wordIndex];_&&_.word===p&&W.words.splice(o.wordIndex,1,...H(_))}}})},e[46]=x,e[47]=c,e[48]=p,e[49]=u,e[50]=o.lineIndex,e[51]=o.word,e[52]=o.wordIndex,e[53]=z):z=e[53];let $;e[54]!==l?($=l("splitWordDialog.actionButton","执行"),e[54]=l,e[55]=$):$=e[55];let G;e[56]!==z||e[57]!==$?(G=s.jsx(L,{justify:"end",mt:"4",children:s.jsx(Bs,{children:s.jsx(Je,{onClick:z,children:$})})}),e[56]=z,e[57]=$,e[58]=G):G=e[58];let U;e[59]!==M||e[60]!==G||e[61]!==O?(U=s.jsxs(Lt,{children:[O,M,G]}),e[59]=M,e[60]=G,e[61]=O,e[62]=U):U=e[62];let se;return e[63]!==t||e[64]!==a||e[65]!==U?(se=s.jsx(It,{open:t,onOpenChange:a,children:U}),e[63]=t,e[64]=a,e[65]=U,e[66]=se):se=e[66],se});function Ld(e){e.word=""}function _d(e,t){return e-t}function Md(e){return e!==""}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const Rd=()=>{const e=ct.c(131),{t}=Ct(),[a,o]=Y(Ki),n=Ut(Dt),r=Ut(Gi),c=So(Dt),[l,d]=i.useState("100"),[u,g]=i.useState("delay"),[p,C]=i.useState("all"),[x,b]=i.useState("1"),[f,y]=i.useState("1"),v=r.size>0,h=n.lyricLines.length;let j;e[0]!==l?(j=ie=>{const Ce=parseInt(l,10),we=Number.isNaN(Ce)?0:Ce;d(Math.max(0,we+ie).toString())},e[0]=l,e[1]=j):j=e[1];const R=j;let S,O;e[2]!==v||e[3]!==a||e[4]!==h?(S=()=>{a&&(C(v?"selected":"all"),y(h.toString()))},O=[a,v,h],e[2]=v,e[3]=a,e[4]=h,e[5]=S,e[6]=O):(S=e[5],O=e[6]),i.useEffect(S,O);let I;e[7]!==f||e[8]!==x||e[9]!==u||e[10]!==n.lyricLines||e[11]!==l||e[12]!==p||e[13]!==r||e[14]!==c||e[15]!==o||e[16]!==h?(I=()=>{const ie=parseInt(l,10);if(Number.isNaN(ie)||ie===0){o(!1);return}const Ce=u==="delay"?ie:-ie,we=new Set;if(p==="all")for(let re=0;re<h;re++)we.add(re);else if(p==="selected")n.lyricLines.forEach((re,ce)=>{r.has(re.id)&&we.add(ce)});else if(p==="selected-following"){let re=-1;if(n.lyricLines.forEach((ce,Me)=>{r.has(ce.id)&&(re===-1||Me<re)&&(re=Me)}),re!==-1)for(let ce=re;ce<h;ce++)we.add(ce)}else if(p==="custom"){const re=parseInt(x,10),ce=parseInt(f,10);if(!Number.isNaN(re)&&!Number.isNaN(ce))for(let Me=Math.max(0,re-1);Me<Math.min(h,ce);Me++)we.add(Me)}c(re=>{re.lyricLines.forEach((ce,Me)=>{we.has(Me)&&(ce.startTime=Math.max(0,ce.startTime+Ce),ce.endTime=Math.max(0,ce.endTime+Ce),ce.words.forEach(Ke=>{Ke.startTime=Math.max(0,Ke.startTime+Ce),Ke.endTime=Math.max(0,Ke.endTime+Ce)}))})}),o(!1)},e[7]=f,e[8]=x,e[9]=u,e[10]=n.lyricLines,e[11]=l,e[12]=p,e[13]=r,e[14]=c,e[15]=o,e[16]=h,e[17]=I):I=e[17];const P=I;let A;e[18]!==t?(A=t("timeShiftDialog.title","平移时间"),e[18]=t,e[19]=A):A=e[19];let T;e[20]!==A?(T=s.jsx(_t,{children:A}),e[20]=A,e[21]=T):T=e[21];let N;e[22]!==t?(N=t("timeShiftDialog.amount","偏移量 (ms)"),e[22]=t,e[23]=N):N=e[23];let E;e[24]!==N?(E=s.jsx(w,{size:"2",weight:"bold",children:N}),e[24]=N,e[25]=E):E=e[25];let F;e[26]!==R?(F=()=>R(-50),e[26]=R,e[27]=F):F=e[27];let k;e[28]===Symbol.for("react.memo_cache_sentinel")?(k=s.jsx(Zi,{}),e[28]=k):k=e[28];let B;e[29]!==F?(B=s.jsx(ns,{variant:"soft",onClick:F,title:"- 50ms",children:k}),e[29]=F,e[30]=B):B=e[30];let m;e[31]===Symbol.for("react.memo_cache_sentinel")?(m=ie=>d(ie.target.value),e[31]=m):m=e[31];let M;e[32]===Symbol.for("react.memo_cache_sentinel")?(M={flexGrow:1},e[32]=M):M=e[32];let z;e[33]!==l?(z=s.jsx(qe,{type:"number",min:"0",value:l,onChange:m,placeholder:"100",style:M}),e[33]=l,e[34]=z):z=e[34];let $;e[35]!==R?($=()=>R(50),e[35]=R,e[36]=$):$=e[36];let G;e[37]===Symbol.for("react.memo_cache_sentinel")?(G=s.jsx(qi,{}),e[37]=G):G=e[37];let U;e[38]!==$?(U=s.jsx(ns,{variant:"soft",onClick:$,title:"+ 50ms",children:G}),e[38]=$,e[39]=U):U=e[39];let se;e[40]!==B||e[41]!==z||e[42]!==U?(se=s.jsxs(L,{gap:"2",align:"center",children:[B,z,U]}),e[40]=B,e[41]=z,e[42]=U,e[43]=se):se=e[43];let Z;e[44]!==se||e[45]!==E?(Z=s.jsxs(L,{direction:"column",gap:"1",children:[E,se]}),e[44]=se,e[45]=E,e[46]=Z):Z=e[46];let X;e[47]!==t?(X=t("timeShiftDialog.direction","方向"),e[47]=t,e[48]=X):X=e[48];let q;e[49]!==X?(q=s.jsx(w,{size:"2",weight:"bold",children:X}),e[49]=X,e[50]=q):q=e[50];let ue,D;e[51]===Symbol.for("react.memo_cache_sentinel")?(ue=ie=>g(ie),D={flexDirection:"row",gap:"16px"},e[51]=ue,e[52]=D):(ue=e[51],D=e[52]);let H;e[53]!==t?(H=t("timeShiftDialog.advance","提前 (-)"),e[53]=t,e[54]=H):H=e[54];let K;e[55]!==H?(K=s.jsx(pt,{value:"advance",children:H}),e[55]=H,e[56]=K):K=e[56];let W;e[57]!==t?(W=t("timeShiftDialog.delay","延后 (+)"),e[57]=t,e[58]=W):W=e[58];let _;e[59]!==W?(_=s.jsx(pt,{value:"delay",children:W}),e[59]=W,e[60]=_):_=e[60];let V;e[61]!==u||e[62]!==K||e[63]!==_?(V=s.jsxs($s,{value:u,onValueChange:ue,style:D,children:[K,_]}),e[61]=u,e[62]=K,e[63]=_,e[64]=V):V=e[64];let te;e[65]!==q||e[66]!==V?(te=s.jsxs(L,{direction:"column",gap:"1",children:[q,V]}),e[65]=q,e[66]=V,e[67]=te):te=e[67];let oe;e[68]!==t?(oe=t("timeShiftDialog.scopeLabel","应用于"),e[68]=t,e[69]=oe):oe=e[69];let le;e[70]!==oe?(le=s.jsx(w,{size:"2",weight:"bold",children:oe}),e[70]=oe,e[71]=le):le=e[71];let J;e[72]===Symbol.for("react.memo_cache_sentinel")?(J=ie=>C(ie),e[72]=J):J=e[72];let ae;e[73]!==t?(ae=t("timeShiftDialog.scope.all","所有行"),e[73]=t,e[74]=ae):ae=e[74];let Q;e[75]!==ae?(Q=s.jsx(pt,{value:"all",children:ae}),e[75]=ae,e[76]=Q):Q=e[76];const De=!v;let ge;e[77]!==t?(ge=t("timeShiftDialog.scope.selected","所选行"),e[77]=t,e[78]=ge):ge=e[78];const pe=v&&` (${r.size})`;let me;e[79]!==De||e[80]!==ge||e[81]!==pe?(me=s.jsxs(pt,{value:"selected",disabled:De,children:[ge,pe]}),e[79]=De,e[80]=ge,e[81]=pe,e[82]=me):me=e[82];const he=!v;let xe;e[83]!==t?(xe=t("timeShiftDialog.scope.selectedFollowing","所选行及其后续"),e[83]=t,e[84]=xe):xe=e[84];let ye;e[85]!==he||e[86]!==xe?(ye=s.jsx(pt,{value:"selected-following",disabled:he,children:xe}),e[85]=he,e[86]=xe,e[87]=ye):ye=e[87];let ve;e[88]!==t?(ve=t("timeShiftDialog.scope.custom","自定义范围"),e[88]=t,e[89]=ve):ve=e[89];let je;e[90]!==ve?(je=s.jsx(pt,{value:"custom",children:ve}),e[90]=ve,e[91]=je):je=e[91];let $e;e[92]!==p||e[93]!==Q||e[94]!==me||e[95]!==ye||e[96]!==je?($e=s.jsxs($s,{value:p,onValueChange:J,children:[Q,me,ye,je]}),e[92]=p,e[93]=Q,e[94]=me,e[95]=ye,e[96]=je,e[97]=$e):$e=e[97];let ze;e[98]!==le||e[99]!==$e?(ze=s.jsxs(L,{direction:"column",gap:"2",children:[le,$e]}),e[98]=le,e[99]=$e,e[100]=ze):ze=e[100];let Oe;e[101]!==f||e[102]!==x||e[103]!==p||e[104]!==t?(Oe=p==="custom"&&s.jsxs(L,{align:"center",gap:"2",ml:"4",children:[s.jsx(w,{size:"2",children:t("timeShiftDialog.fromLine","从")}),s.jsx(qe,{style:{width:"60px"},size:"1",type:"number",value:x,onChange:ie=>b(ie.target.value)}),s.jsx(w,{size:"2",children:t("timeShiftDialog.toLine","行 到")}),s.jsx(qe,{style:{width:"60px"},size:"1",type:"number",value:f,onChange:ie=>y(ie.target.value)}),s.jsx(w,{size:"2",children:t("timeShiftDialog.line","行")})]}),e[101]=f,e[102]=x,e[103]=p,e[104]=t,e[105]=Oe):Oe=e[105];let ke;e[106]!==Z||e[107]!==te||e[108]!==ze||e[109]!==Oe?(ke=s.jsxs(L,{direction:"column",gap:"4",children:[Z,te,ze,Oe]}),e[106]=Z,e[107]=te,e[108]=ze,e[109]=Oe,e[110]=ke):ke=e[110];let Ie;e[111]!==t?(Ie=t("common.cancel","取消"),e[111]=t,e[112]=Ie):Ie=e[112];let Pe;e[113]!==Ie?(Pe=s.jsx(Bs,{children:s.jsx(Je,{variant:"soft",color:"gray",children:Ie})}),e[113]=Ie,e[114]=Pe):Pe=e[114];let Be;e[115]!==t?(Be=t("common.apply","应用"),e[115]=t,e[116]=Be):Be=e[116];let Ve;e[117]!==P||e[118]!==Be?(Ve=s.jsx(Je,{onClick:P,children:Be}),e[117]=P,e[118]=Be,e[119]=Ve):Ve=e[119];let Le;e[120]!==Pe||e[121]!==Ve?(Le=s.jsxs(L,{gap:"3",mt:"5",justify:"end",children:[Pe,Ve]}),e[120]=Pe,e[121]=Ve,e[122]=Le):Le=e[122];let _e;e[123]!==ke||e[124]!==T||e[125]!==Le?(_e=s.jsxs(Lt,{maxWidth:"450px",children:[T,ke,Le]}),e[123]=ke,e[124]=T,e[125]=Le,e[126]=_e):_e=e[126];let Ue;return e[127]!==a||e[128]!==o||e[129]!==_e?(Ue=s.jsx(It,{open:a,onOpenChange:o,children:_e}),e[127]=a,e[128]=o,e[129]=_e,e[130]=Ue):Ue=e[130],Ue};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const Od=()=>{const e=ct.c(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=s.jsxs(s.Fragment,{children:[s.jsx($c,{}),s.jsx(Uc,{}),s.jsx(rd,{}),s.jsx(Id,{}),s.jsx(dd,{}),s.jsx(Sd,{}),s.jsx(Dd,{}),s.jsx(bd,{}),s.jsx(yd,{}),s.jsx(gd,{}),s.jsx(Rd,{})]}),e[0]=t):t=e[0],t};export{Od as Dialogs,Od as default};
//# sourceMappingURL=index-2mjmZSWK.js.map
